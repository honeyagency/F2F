function initCustomForms(){jcf.setOptions("Select",{wrapNative:!1}),jcf.replaceAll()}function initPopups(){jQuery(".visual-block").contentPopup({mode:"click",btnOpen:".close",hideOnClickLink:!1,hideOnClickOutside:!1})}function initMobileDrop(){var t=jQuery("#header .row-holder .row");ResponsiveHelper.addRange({"..499":{on:function(){t.mobileDropdown({items:"div.col",activeClass:"current",drop:".links-drop",btnOpen:".open",btnClose:".btn-back",animStart:function(t){var e=t.container.find(".btn-back"),i=t.container.find(".cancel");if(e.length){var n=function(){var e=t.items.filter("."+t.options.activeClass);return t.hideSlide(e),!1};e.on("click",n)}if(i.length){var s=function(){var t=jQuery("body").data("MobileNav");return t&&t.hide(),n(),!1};i.on("click",s)}}})},off:function(){t.data("MobileDropdown")&&t.data("MobileDropdown").destroy()}}})}function initDatepicker(){jQuery(".datepicker").each(function(){var t=jQuery(this);t.on("focus",function(){var e=jQuery("#ui-datepicker-div"),i=t.closest(".select-date");e.appendTo(i)}),t.datepicker({showOtherMonths:!0,showOn:"both",buttonImage:"/wp-content/themes/farmtofork/images/calendar.png",buttonImageOnly:!0,buttonText:"Select date"})})}function initOpenClose(){var t=jQuery(".categories-list"),e={hideOnClickOutside:!0,activeClass:"active",opener:".categories-opener",slider:".categories-slide",animSpeed:400,effect:"slide"};ResponsiveHelper.addRange({"..999":{on:function(){t.openClose(e)},off:function(){var e=t.data("OpenClose");e&&e.destroy()}}}),jQuery(".form-box").openClose({activeClass:"active",opener:".filters",slider:".form-holder",animSpeed:400,effect:"slide"})}function initCarouselPartner(){var t=jQuery(".partners-slider"),e=t.find("div.slideset"),i={mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500,step:1},n;ResponsiveHelper.addRange({"..500":{on:function(){e.find(".slide-holder").unwrap(),clearTimeout(n),n=setTimeout(function(){i.slides=".slide-holder",t.scrollGallery(i)},200)},off:function(){clearTimeout(n),n=setTimeout(function(){var e=t.data("ScrollGallery");e&&e.destroy()},200)}},"501..":{on:function(){for(;e.children("div:not(.slide)").length;)e.children("div:not(.slide):lt(2)").wrapAll('<div class="slide">');clearTimeout(n),n=setTimeout(function(){i.slides=".slide",t.scrollGallery(i)},200)},off:function(){clearTimeout(n),n=setTimeout(function(){var e=t.data("ScrollGallery");e&&e.destroy()},200)}}})}function initCarousel(){jQuery(".region-slider").scrollGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!1,switchTime:4e3,animSpeed:500,step:1}),jQuery(".sponsor-slider").scrollGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500})}function initSlideShow(){jQuery(".slideshow").fadeGallery({slides:"section.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",event:"click",useSwipe:!0,autoRotation:!1,autoHeight:!0,switchTime:3e3,animSpeed:500}),jQuery(".feature-slideshow").fadeGallery({slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:"div.pagination",event:"click",autoRotation:!0,autoHeight:!0,switchTime:4e3,animSpeed:500})}function initMobileNav(){jQuery("body").mobileNav({hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".opener",menuDrop:"#header",mobileScroll:!0,onOpen:function(t){var e=t.drop.find(".jcf-scrollable");jcf.refresh(e)},onClose:function(){var t=jQuery("#header .row-holder .row").data("MobileDropdown"),e=t.items.filter("."+t.options.activeClass);t&&t.hideSlide(e)}})}function initFixedScrollBlock(){jQuery("#wrapper").fixedScrollBlock({slideBlock:"#header",positionType:"fixed",fixedOnlyIfFits:!1})}function initAnchors(){new SmoothScroll({anchorLinks:'a[href^="#"].back'})}function initBackgroundResize(){jQuery(".article .img-holder").each(function(){ImageStretcher.add({container:this,image:"img"})})}function initSameHeight(){jQuery(".article").sameHeight({elements:".img-holder, .detail",flexible:!0})}function initCustomHover(){jQuery(".region").touchHover()}function initLightbox(){jQuery('a.lightbox-opener, a[rel*="lightbox"]').fancybox({padding:0,loop:!1,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.65)"}}},afterLoad:function(t,e){0===t.href.indexOf("#")&&jQuery(t.href).find("a.close").off("click.fb").on("click.fb",function(t){t.preventDefault(),jQuery.fancybox.close()})}})}var $=jQuery;jQuery(function(){initCustomForms(),initFixedScrollBlock(),initAnchors(),initCarousel(),initCarouselPartner(),initSlideShow(),initMobileNav(),initBackgroundResize(),initSameHeight(),initCustomHover(),initDatepicker(),initOpenClose(),initMobileDrop(),initLightbox(),initPopups(),jQuery("input, textarea").placeholder()}),jQuery(window).load(function(){!function(){document.location.hash&&setTimeout(function(){window.scrollTo(window.scrollX,window.scrollY-100)},10)}(),jQuery("#setToday").click(function(){jQuery(".date-from").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","0"),jQuery(".date-to").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","0"),jQuery(".find-event").submit()}),jQuery("#setTomorrow").click(function(){jQuery(".date-from").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","1"),jQuery(".date-to").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","1"),jQuery(".find-event").submit()}),jQuery("#setWeekend").click(function(){var t=new Date,e=t.getDay();if(5==e)var i="0",n=2;else if(6==e)var i="0",n=1;else if(0==e)var i="0",n="0";else var i=5-e,n=7-e;jQuery(".date-from").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate",i),jQuery(".date-to").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate",n),jQuery(".find-event").submit()})}),function($){function t(t){this.options=$.extend({holder:null,popup:".popup",btnOpen:".open",btnClose:".close",openClass:"popup-active",clickEvent:"click",mode:"click",hideOnClickLink:!0,hideOnClickOutside:!0,delay:50},t),this.options.holder&&(this.holder=$(this.options.holder),this.init())}t.prototype={init:function(){this.findElements(),this.attachEvents()},findElements:function(){this.popup=this.holder.find(this.options.popup),this.btnOpen=this.holder.find(this.options.btnOpen),this.btnClose=this.holder.find(this.options.btnClose)},attachEvents:function(){var t=this;if(this.clickMode=e||t.options.mode===t.options.clickEvent,this.clickMode)this.btnOpen.bind(t.options.clickEvent,function(e){t.holder.hasClass(t.options.openClass)?t.options.hideOnClickLink&&t.hidePopup():t.showPopup(),e.preventDefault()}),this.outsideClickHandler=this.bind(this.outsideClickHandler,this);else{var i,n=function(e){clearTimeout(i),i=setTimeout(function(){e.call(t)},t.options.delay)};this.btnOpen.bind("mouseover",function(){n(t.showPopup)}).bind("mouseout",function(){n(t.hidePopup)}),this.popup.bind("mouseover",function(){n(t.showPopup)}).bind("mouseout",function(){n(t.hidePopup)})}this.btnClose.bind(t.options.clickEvent,function(e){t.hidePopup(),e.preventDefault()})},outsideClickHandler:function(t){var e=$((t.changedTouches?t.changedTouches[0]:t).target);e.closest(this.popup).length||e.closest(this.btnOpen).length||this.hidePopup()},showPopup:function(){this.holder.addClass(this.options.openClass),this.popup.css({display:"block"}),this.clickMode&&this.options.hideOnClickOutside&&!this.outsideHandlerActive&&(this.outsideHandlerActive=!0,$(document).bind("click touchstart",this.outsideClickHandler))},hidePopup:function(){this.holder.removeClass(this.options.openClass),this.popup.css({display:"none"}),this.clickMode&&this.options.hideOnClickOutside&&this.outsideHandlerActive&&(this.outsideHandlerActive=!1,$(document).unbind("click touchstart",this.outsideClickHandler))},bind:function(t,e,i){return function(){return t.apply(e,i?[i]:arguments)}}};var e=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.contentPopup=function(e){return this.each(function(){new t($.extend(e,{holder:this}))})}}(jQuery),function($){function t(t){this.options=$.extend({items:"li",activeClass:"active",drop:".dropdown",btnOpen:".open",btnClose:".back",extraHeight:0,container:"#header",containerClass:"nav-area-active"},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.container=$(this.options.container),this.holder=$(this.options.holder),this.items=this.holder.children(this.options.items),this.drops=this.items.find(this.options.drop),this.btnOpen=this.items.find(this.options.btnOpen),this.btnClose=this.drops.find(this.options.btnClose)},attachEvents:function(){var t=this;this.onShowSlide=function(e){e.preventDefault();var i=$(this),n=i.closest(".col"),s=n.find(".links-drop");t.showSlide(n,s)},this.onHideSlide=function(e){e.preventDefault();var i=$(this),n=i.closest(t.options.items);t.hideSlide(n)},this.btnOpen.on("click",this.onShowSlide),this.btnClose.on("click",this.onHideSlide)},showSlide:function(t,e){t.addClass(this.options.activeClass),this.container.addClass(this.options.containerClass),this.holder.css({height:e.outerHeight()+this.options.extraHeight}),this.makeCallback("animStart",this)},hideSlide:function(t){t.removeClass(this.options.activeClass),this.container.removeClass(this.options.containerClass),this.holder.css({height:""}),this.makeCallback("animEnd",this)},destroy:function(){this.holder.css({height:""}),this.container.removeClass(this.options.containerClass),this.items.removeClass(this.options.activeClass),this.btnOpen.off("click",this.onShowSlide),this.btnClose.off("click",this.onHideSlide)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}},$.fn.mobileDropdown=function(e){return this.each(function(){jQuery(this).data("MobileDropdown",new t($.extend(e,{holder:this})))})}}(jQuery),function($){function t(t){this.options=$.extend({mask:"div.mask",slider:">*",slides:">*",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",stretchSlideToMask:!1,circularRotation:!0,disableWhileAnimating:!1,autoRotation:!1,pauseOnHover:!e,maskAutoSize:!1,switchTime:4e3,animSpeed:600,event:"click",swipeThreshold:15,handleTouch:!0,vertical:!1,useTranslate3D:!1,step:!1},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshPosition(),this.refreshState(!0),this.resumeRotation(),this.makeCallback("onInit",this))},findElements:function(){if(this.fullSizeFunction=this.options.vertical?"outerHeight":"outerWidth",this.innerSizeFunction=this.options.vertical?"height":"width",this.slideSizeFunction="outerHeight",this.maskSizeProperty="height",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.gallery=$(this.options.holder).addClass(this.options.galleryReadyClass),this.mask=this.gallery.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentStep=0,this.stepsCount=0,!1===this.options.step){var t=this.slides.filter("."+this.options.activeClass);t.length&&(this.currentStep=this.slides.index(t))}this.calculateOffsets(),"string"==typeof this.options.generatePagination?(this.pagerLinks=$(),this.buildPagination()):(this.pagerLinks=this.gallery.find(this.options.pagerLinks),this.attachPaginationEvents()),this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber)},attachEvents:function(){var t=this;this.bindHandlers(["onWindowResize"]),$(window).bind("load resize orientationchange",this.onWindowResize),this.btnPrev.length&&(this.prevSlideHandler=function(e){e.preventDefault(),t.prevSlide()},this.btnPrev.bind(this.options.event,this.prevSlideHandler)),this.btnNext.length&&(this.nextSlideHandler=function(e){e.preventDefault(),t.nextSlide()},this.btnNext.bind(this.options.event,this.nextSlideHandler)),this.options.pauseOnHover&&!e&&(this.hoverHandler=function(){t.options.autoRotation&&(t.galleryHover=!0,t.pauseRotation())},this.leaveHandler=function(){t.options.autoRotation&&(t.galleryHover=!1,t.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.btnPlay.length&&(this.btnPlayHandler=function(e){e.preventDefault(),t.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(e){e.preventDefault(),t.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(e){e.preventDefault(),t.gallery.hasClass(t.options.autorotationActiveClass)?t.stopRotation():t.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),e&&this.options.useTranslate3D&&this.slider.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}),e&&this.options.handleTouch&&window.Hammer&&this.mask.length&&(this.swipeHandler=new Hammer.Manager(this.mask[0]),this.swipeHandler.add(new Hammer.Pan({direction:t.options.vertical?Hammer.DIRECTION_VERTICAL:Hammer.DIRECTION_HORIZONTAL,threshold:t.options.swipeThreshold})),this.swipeHandler.on("panstart",function(){t.galleryAnimating?t.swipeHandler.stop():(t.pauseRotation(),t.originalOffset=parseFloat(t.slider.css(t.animProperty)))}).on("panmove",function(e){var i=t.originalOffset+e[t.options.vertical?"deltaY":"deltaX"];i=Math.max(Math.min(0,i),t.maxOffset),t.slider.css(t.animProperty,i)}).on("panend",function(e){t.resumeRotation(),e.distance>t.options.swipeThreshold?e.offsetDirection===Hammer.DIRECTION_RIGHT||e.offsetDirection===Hammer.DIRECTION_DOWN?t.nextSlide():t.prevSlide():t.switchSlide()}))},onWindowResize:function(){this.galleryAnimating?this.resizeQueue=!0:(this.calculateOffsets(),this.refreshPosition(),this.buildPagination(),this.refreshState(),this.resizeQueue=!1)},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1),this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().css(this.tmpProps)},calculateOffsets:function(){var t=this,e,i;if(this.options.stretchSlideToMask){var n={};n[this.innerSizeFunction]=this.mask[this.innerSizeFunction](),this.slides.css(n)}if(this.maskSize=this.mask[this.innerSizeFunction](),this.sumSize=this.getSumSize(),this.maxOffset=this.maskSize-this.sumSize,this.options.vertical&&this.options.maskAutoSize){this.options.step=1,this.stepsCount=this.slides.length,this.stepOffsets=[0],e=0;for(var s=0;s<this.slides.length;s++)e-=$(this.slides[s])[this.fullSizeFunction](!0),this.stepOffsets.push(e);return void(this.maxOffset=e)}if("number"==typeof this.options.step&&this.options.step>0)for(this.slideDimensions=[],this.slides.each($.proxy(function(e,i){t.slideDimensions.push($(i)[t.fullSizeFunction](!0))},this)),this.stepOffsets=[0],this.stepsCount=1,e=i=0;e>this.maxOffset;)e-=this.getSlideSize(i,i+this.options.step),i+=this.options.step,this.stepOffsets.push(Math.max(e,this.maxOffset)),this.stepsCount++;else for(this.stepSize=this.maskSize,this.stepsCount=1,e=0;e>this.maxOffset;)e-=this.stepSize,this.stepsCount++},getSumSize:function(){var t=0;return this.slides.each($.proxy(function(e,i){t+=$(i)[this.fullSizeFunction](!0)},this)),this.slider.css(this.innerSizeFunction,t),t},getStepOffset:function(t){return t=t||this.currentStep,"number"==typeof this.options.step?this.stepOffsets[this.currentStep]:Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset))},getSlideSize:function(t,e){for(var i=0,n=t;n<Math.min(e,this.slideDimensions.length);n++)i+=this.slideDimensions[n];return i},buildPagination:function(){if("string"==typeof this.options.generatePagination&&(this.pagerHolder||(this.pagerHolder=this.gallery.find(this.options.generatePagination)),this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount)){this.oldStepsCount=this.stepsCount,this.pagerHolder.empty(),this.pagerList=$(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)$(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children(),this.attachPaginationEvents()}},attachPaginationEvents:function(){var t=this;this.pagerLinksHandler=function(e){e.preventDefault(),t.numSlide(t.pagerLinks.index(e.currentTarget))},this.pagerLinks.bind(this.options.event,this.pagerLinksHandler)},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep>0?(this.currentStep--,this.switchSlide()):this.options.circularRotation&&(this.currentStep=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep<this.stepsCount-1?(this.currentStep++,this.switchSlide()):(this.options.circularRotation||!0===t)&&(this.currentStep=0,this.switchSlide()))},numSlide:function(t){this.currentStep!=t&&(this.currentStep=t,this.switchSlide())},switchSlide:function(){var t=this;this.galleryAnimating=!0,this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){t.galleryAnimating=!1,t.resizeQueue&&t.onWindowResize(),t.makeCallback("onChange",t),t.autoRotate()}}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(t){1!==this.options.step&&this.stepsCount!==this.slides.length||this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.curNum.html(this.currentStep+1),this.allNum.html(this.stepsCount),this.options.maskAutoSize&&"number"==typeof this.options.step&&(this.tmpProps={},this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](!0),this.mask.stop()[t?"css":"animate"](this.tmpProps)),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentStep&&this.btnPrev.addClass(this.options.disabledClass),this.currentStep===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",this.sumSize<=this.maskSize)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime)},bindHandlers:function(t){var e=this;$.each(t,function(t,i){var n=e[i];e[i]=function(){return n.apply(e,arguments)}})},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){$(window).unbind("load resize orientationchange",this.onWindowResize),this.btnPrev.unbind(this.options.event,this.prevSlideHandler),this.btnNext.unbind(this.options.event,this.nextSlideHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.swipeHandler&&this.swipeHandler.destroy();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" ")),this.slider.add(this.slides).removeAttr("style"),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty()}};var e=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.scrollGallery=function(e){return this.each(function(){$(this).data("ScrollGallery",new t($.extend(e,{holder:this})))})}}(jQuery),function(t,e,i,n){var s=i("html"),o=i(t),a=i(e),r=i.fancybox=function(){r.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),h=null,c=e.createTouch!==n,d=function(t){return t&&t.hasOwnProperty&&t instanceof i},u=function(t){return t&&"string"===i.type(t)},p=function(t){return u(t)&&0<t.indexOf("%")},f=function(t,e){var i=parseInt(t,10)||0;return e&&p(t)&&(i*=r.getViewport()[e]/100),Math.ceil(i)},m=function(t,e){return f(t,e)+"px"};i.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(i.isPlainObject(e)||(e={}),!1!==r.close(!0)))return i.isArray(t)||(t=d(t)?i(t).get():[t]),i.each(t,function(s,o){var a={},l,h,c,p,f;"object"===i.type(o)&&(o.nodeType&&(o=i(o)),d(o)?(a={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},i.metadata&&i.extend(!0,a,o.metadata())):a=o),l=e.href||a.href||(u(o)?o:null),h=e.title!==n?e.title:a.title||"",p=(c=e.content||a.content)?"html":e.type||a.type,!p&&a.isDom&&((p=o.data("fancybox-type"))||(p=(p=o.prop("class").match(/fancybox\.(\w+)/))?p[1]:null)),u(l)&&(p||(r.isImage(l)?p="image":r.isSWF(l)?p="swf":"#"===l.charAt(0)?p="inline":u(o)&&(p="html",c=o)),"ajax"===p&&(f=l.split(/\s+/,2),l=f.shift(),f=f.shift())),c||("inline"===p?l?c=i(u(l)?l.replace(/.*(?=#[^\s]+$)/,""):l):a.isDom&&(c=o):"html"===p?c=l:!p&&!l&&a.isDom&&(p="inline",c=o)),i.extend(a,{href:l,type:p,content:c,title:h,selector:f}),t[s]=a}),r.opts=i.extend(!0,{},r.defaults,e),e.keys!==n&&(r.opts.keys=!!e.keys&&i.extend({},r.defaults.keys,e.keys)),r.group=t,r._start(r.opts.index)},cancel:function(){var t=r.coming;t&&!1!==r.trigger("onCancel")&&(r.hideLoading(),r.ajaxLoad&&r.ajaxLoad.abort(),r.ajaxLoad=null,r.imgPreload&&(r.imgPreload.onload=r.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),r.coming=null,r.current||r._afterZoomOut(t))},close:function(t){r.cancel(),!1!==r.trigger("beforeClose")&&(r.unbindEvents(),r.isActive&&(r.isOpen&&!0!==t?(r.isOpen=r.isOpened=!1,r.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),r.wrap.stop(!0,!0).removeClass("fancybox-opened"),r.transitions[r.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),r._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(r.player.timer)},i=function(){e(),r.current&&r.player.isActive&&(r.player.timer=setTimeout(r.next,r.current.playSpeed))},n=function(){e(),a.unbind(".player"),r.player.isActive=!1,r.trigger("onPlayEnd")};!0===t||!r.player.isActive&&!1!==t?r.current&&(r.current.loop||r.current.index<r.group.length-1)&&(r.player.isActive=!0,a.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":e}),i(),r.trigger("onPlayStart")):n()},next:function(t){var e=r.current;e&&(u(t)||(t=e.direction.next),r.jumpto(e.index+1,t,"next"))},prev:function(t){var e=r.current;e&&(u(t)||(t=e.direction.prev),r.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var s=r.current;s&&(t=f(t),r.direction=e||s.direction[t>=s.index?"next":"prev"],r.router=i||"jumpto",s.loop&&(0>t&&(t=s.group.length+t%s.group.length),t%=s.group.length),s.group[t]!==n&&(r.cancel(),r._start(t)))},reposition:function(t,e){var n=r.current,s=n?n.wrap:null,o;s&&(o=r._getPosition(e),t&&"scroll"===t.type?(delete o.position,s.stop(!0,!0).animate(o,200)):(s.css(o),n.pos=i.extend({},n.dim,o)))},update:function(t){var e=t&&t.type,i=!e||"orientationchange"===e;i&&(clearTimeout(h),h=null),r.isOpen&&!h&&(h=setTimeout(function(){var n=r.current;n&&!r.isClosing&&(r.wrap.removeClass("fancybox-tmp"),(i||"load"===e||"resize"===e&&n.autoResize)&&r._setDimension(),"scroll"===e&&n.canShrink||r.reposition(t),r.trigger("onUpdate"),h=null)},i&&!c?0:300))},toggle:function(t){r.isOpen&&(r.current.fitToView="boolean"===i.type(t)?t:!r.current.fitToView,c&&(r.wrap.removeAttr("style").addClass("fancybox-tmp"),r.trigger("onUpdate")),r.update())},hideLoading:function(){a.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var t,e;r.hideLoading(),t=i('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body"),a.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),r.cancel())}),r.defaults.fixed||(e=r.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=r.current&&r.current.locked||!1,i={x:o.scrollLeft(),y:o.scrollTop()};return e?(i.w=e[0].clientWidth,i.h=e[0].clientHeight):(i.w=c&&t.innerWidth?t.innerWidth:o.width(),i.h=c&&t.innerHeight?t.innerHeight:o.height()),i},unbindEvents:function(){r.wrap&&d(r.wrap)&&r.wrap.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t=r.current,e;t&&(o.bind("orientationchange.fb"+(c?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),r.update),(e=t.keys)&&a.bind("keydown.fb",function(s){var o=s.which||s.keyCode,a=s.target||s.srcElement;if(27===o&&r.coming)return!1;!s.ctrlKey&&!s.altKey&&!s.shiftKey&&!s.metaKey&&(!a||!a.type&&!i(a).is("[contenteditable]"))&&i.each(e,function(e,a){return 1<t.group.length&&a[o]!==n?(r[e](a[o]),s.preventDefault(),!1):-1<i.inArray(o,a)?(r[e](),s.preventDefault(),!1):void 0})}),i.fn.mousewheel&&t.mouseWheel&&r.wrap.bind("mousewheel.fb",function(e,n,s,o){for(var a=i(e.target||null),l=!1;a.length&&!l&&!a.is(".fancybox-skin")&&!a.is(".fancybox-wrap");)l=a[0]&&!(a[0].style.overflow&&"hidden"===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=i(a).parent();0!==n&&!l&&1<r.group.length&&!t.canShrink&&(0<o||0<s?r.prev(0<o?"down":"left"):(0>o||0>s)&&r.next(0>o?"up":"right"),e.preventDefault())}))},trigger:function(t,e){var n,s=e||r.coming||r.current;if(s){if(i.isFunction(s[t])&&(n=s[t].apply(s,Array.prototype.slice.call(arguments,1))),!1===n)return!1;s.helpers&&i.each(s.helpers,function(e,n){n&&r.helpers[e]&&i.isFunction(r.helpers[e][t])&&r.helpers[e][t](i.extend(!0,{},r.helpers[e].defaults,n),s)}),a.trigger(t)}},isImage:function(t){return u(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return u(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e={},n,s;if(t=f(t),!(n=r.group[t]||null))return!1;if(e=i.extend(!0,{},r.opts,n),n=e.margin,s=e.padding,"number"===i.type(n)&&(e.margin=[n,n,n,n]),"number"===i.type(s)&&(e.padding=[s,s,s,s]),e.modal&&i.extend(!0,e,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),e.autoSize&&(e.autoWidth=e.autoHeight=!0),"auto"===e.width&&(e.autoWidth=!0),"auto"===e.height&&(e.autoHeight=!0),e.group=r.group,e.index=t,r.coming=e,!1===r.trigger("beforeLoad"))r.coming=null;else{if(s=e.type,n=e.href,!s)return r.coming=null,!(!r.current||!r.router||"jumpto"===r.router)&&(r.current.index=t,r[r.router](r.direction));if(r.isActive=!0,"image"!==s&&"swf"!==s||(e.autoHeight=e.autoWidth=!1,e.scrolling="visible"),"image"===s&&(e.aspectRatio=!0),"iframe"===s&&c&&(e.scrolling="scroll"),e.wrap=i(e.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+s+" fancybox-tmp "+e.wrapCSS).appendTo(e.parent||"body"),i.extend(e,{skin:i(".fancybox-skin",e.wrap),outer:i(".fancybox-outer",e.wrap),inner:i(".fancybox-inner",e.wrap)}),i.each(["Top","Right","Bottom","Left"],function(t,i){e.skin.css("padding"+i,m(e.padding[t]))}),r.trigger("onReady"),"inline"===s||"html"===s){if(!e.content||!e.content.length)return r._error("content")}else if(!n)return r._error("href");"image"===s?r._loadImage():"ajax"===s?r._loadAjax():"iframe"===s?r._loadIframe():r._afterLoad()}},_error:function(t){i.extend(r.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:r.coming.tpl.error}),r._afterLoad()},_loadImage:function(){var t=r.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,r.coming.width=this.width/r.opts.pixelRatio,r.coming.height=this.height/r.opts.pixelRatio,r._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,r._error("image")},
t.src=r.coming.href,!0!==t.complete&&r.showLoading()},_loadAjax:function(){var t=r.coming;r.showLoading(),r.ajaxLoad=i.ajax(i.extend({},t.ajax,{url:t.href,error:function(t,e){r.coming&&"abort"!==e?r._error("ajax",t):r.hideLoading()},success:function(e,i){"success"===i&&(t.content=e,r._afterLoad())}}))},_loadIframe:function(){var t=r.coming,e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling).attr("src",t.href);i(t.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(r.showLoading(),e.one("load",function(){i(this).data("ready",1),c||i(this).bind("load.fb",r.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),r._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||r._afterLoad()},_preloadImages:function(){var t=r.group,e=r.current,i=t.length,n=e.preload?Math.min(e.preload,i-1):0,s,o;for(o=1;o<=n;o+=1)s=t[(e.index+o)%i],"image"===s.type&&s.href&&((new Image).src=s.href)},_afterLoad:function(){var t=r.coming,e=r.current,n,s,o,a,l;if(r.hideLoading(),t&&!1!==r.isActive)if(!1===r.trigger("afterLoad",t,e))t.wrap.stop(!0).trigger("onReset").remove(),r.coming=null;else{switch(e&&(r.trigger("beforeChange",e),e.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),r.unbindEvents(),n=t.content,s=t.type,o=t.scrolling,i.extend(r,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:e}),a=t.href,s){case"inline":case"ajax":case"html":t.selector?n=i("<div>").html(n).find(t.selector):d(n)&&(n.data("fancybox-placeholder")||n.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(n).hide()),n=n.show().detach(),t.wrap.bind("onReset",function(){i(this).find(n).length&&n.hide().replaceAll(n.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":n=t.tpl.image.replace("{href}",a);break;case"swf":n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+a+'"></param>',l="",i.each(t.swf,function(t,e){n+='<param name="'+t+'" value="'+e+'"></param>',l+=" "+t+'="'+e+'"'}),n+='<embed src="'+a+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}(!d(n)||!n.parent().is(t.inner))&&t.inner.append(n),r.trigger("beforeShow"),t.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),r._setDimension(),r.reposition(),r.isOpen=!1,r.coming=null,r.bindEvents(),r.isOpened?e.prevMethod&&r.transitions[e.prevMethod]():i(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),r.transitions[r.isOpened?t.nextMethod:t.openMethod](),r._preloadImages()}},_setDimension:function(){var t=r.getViewport(),e=0,n=!1,s=!1,n=r.wrap,o=r.skin,a=r.inner,l=r.current,s=l.width,h=l.height,c=l.minWidth,d=l.minHeight,u=l.maxWidth,g=l.maxHeight,v=l.scrolling,y=l.scrollOutside?l.scrollbarWidth:0,b=l.margin,w=f(b[1]+b[3]),k=f(b[0]+b[2]),C,x,D,S,_,T,E,H,M;if(n.add(o).add(a).width("auto").height("auto").removeClass("fancybox-tmp"),b=f(o.outerWidth(!0)-o.width()),C=f(o.outerHeight(!0)-o.height()),x=w+b,D=k+C,S=p(s)?(t.w-x)*f(s)/100:s,_=p(h)?(t.h-D)*f(h)/100:h,"iframe"===l.type){if(M=l.content,l.autoHeight&&1===M.data("ready"))try{M[0].contentWindow.document.location&&(a.width(S).height(9999),T=M.contents().find("body"),y&&T.css("overflow-x","hidden"),_=T.outerHeight(!0))}catch(t){}}else(l.autoWidth||l.autoHeight)&&(a.addClass("fancybox-tmp"),l.autoWidth||a.width(S),l.autoHeight||a.height(_),l.autoWidth&&(S=a.width()),l.autoHeight&&(_=a.height()),a.removeClass("fancybox-tmp"));if(s=f(S),h=f(_),H=S/_,c=f(p(c)?f(c,"w")-x:c),u=f(p(u)?f(u,"w")-x:u),d=f(p(d)?f(d,"h")-D:d),g=f(p(g)?f(g,"h")-D:g),T=u,E=g,l.fitToView&&(u=Math.min(t.w-x,u),g=Math.min(t.h-D,g)),x=t.w-w,k=t.h-k,l.aspectRatio?(s>u&&(s=u,h=f(s/H)),h>g&&(h=g,s=f(h*H)),s<c&&(s=c,h=f(s/H)),h<d&&(h=d,s=f(h*H))):(s=Math.max(c,Math.min(s,u)),l.autoHeight&&"iframe"!==l.type&&(a.width(s),h=a.height()),h=Math.max(d,Math.min(h,g))),l.fitToView)if(a.width(s).height(h),n.width(s+b),t=n.width(),w=n.height(),l.aspectRatio)for(;(t>x||w>k)&&s>c&&h>d&&!(19<e++);)h=Math.max(d,Math.min(g,h-10)),s=f(h*H),s<c&&(s=c,h=f(s/H)),s>u&&(s=u,h=f(s/H)),a.width(s).height(h),n.width(s+b),t=n.width(),w=n.height();else s=Math.max(c,Math.min(s,s-(t-x))),h=Math.max(d,Math.min(h,h-(w-k)));y&&"auto"===v&&h<_&&s+b+y<x&&(s+=y),a.width(s).height(h),n.width(s+b),t=n.width(),w=n.height(),n=(t>x||w>k)&&s>c&&h>d,s=l.aspectRatio?s<T&&h<E&&s<S&&h<_:(s<T||h<E)&&(s<S||h<_),i.extend(l,{dim:{width:m(t),height:m(w)},origWidth:S,origHeight:_,canShrink:n,canExpand:s,wPadding:b,hPadding:C,wrapSpace:w-o.outerHeight(!0),skinSpace:o.height()-h}),!M&&l.autoHeight&&h>d&&h<g&&!s&&a.height("auto")},_getPosition:function(t){var e=r.current,i=r.getViewport(),n=e.margin,s=r.wrap.width()+n[1]+n[3],o=r.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return e.autoCenter&&e.fixed&&!t&&o<=i.h&&s<=i.w?n.position="fixed":e.locked||(n.top+=i.y,n.left+=i.x),n.top=m(Math.max(n.top,n.top+(i.h-o)*e.topRatio)),n.left=m(Math.max(n.left,n.left+(i.w-s)*e.leftRatio)),n},_afterZoomIn:function(){var t=r.current;t&&(r.isOpen=r.isOpened=!0,r.wrap.css("overflow","visible").addClass("fancybox-opened"),r.update(),(t.closeClick||t.nextClick&&1<r.group.length)&&r.inner.css("cursor","pointer").bind("click.fb",function(e){!i(e.target).is("a")&&!i(e.target).parent().is("a")&&(e.preventDefault(),r[t.closeClick?"close":"next"]())}),t.closeBtn&&i(t.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault(),r.close()}),t.arrows&&1<r.group.length&&((t.loop||0<t.index)&&i(t.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev),(t.loop||t.index<r.group.length-1)&&i(t.tpl.next).appendTo(r.outer).bind("click.fb",r.next)),r.trigger("afterShow"),t.loop||t.index!==t.group.length-1?r.opts.autoPlay&&!r.player.isActive&&(r.opts.autoPlay=!1,r.play()):r.play(!1))},_afterZoomOut:function(t){t=t||r.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(r,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),r.trigger("afterClose",t)}}),r.transitions={getOrigPosition:function(){var t=r.current,e=t.element,i=t.orig,n={},s=50,o=50,a=t.hPadding,l=t.wPadding,h=r.getViewport();return!i&&t.isDom&&e.is(":visible")&&(i=e.find("img:first"),i.length||(i=e)),d(i)?(n=i.offset(),i.is("img")&&(s=i.outerWidth(),o=i.outerHeight())):(n.top=h.y+(h.h-o)*t.topRatio,n.left=h.x+(h.w-s)*t.leftRatio),("fixed"===r.wrap.css("position")||t.locked)&&(n.top-=h.y,n.left-=h.x),n={top:m(n.top-a*t.topRatio),left:m(n.left-l*t.leftRatio),width:m(s+l),height:m(o+a)}},step:function(t,e){var i,n,s=e.prop;n=r.current;var o=n.wrapSpace,a=n.skinSpace;"width"!==s&&"height"!==s||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),r.isClosing&&(i=1-i),n="width"===s?n.wPadding:n.hPadding,n=t-n,r.skin[s](f("width"===s?n:n-o*i)),r.inner[s](f("width"===s?n:n-o*i-a*i)))},zoomIn:function(){var t=r.current,e=t.pos,n=t.openEffect,s="elastic"===n,o=i.extend({opacity:1},e);delete o.position,s?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),r.wrap.css(e).animate(o,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:s?this.step:null,complete:r._afterZoomIn})},zoomOut:function(){var t=r.current,e=t.closeEffect,i="elastic"===e,n={opacity:.1};i&&(n=this.getOrigPosition(),t.closeOpacity&&(n.opacity=.1)),r.wrap.animate(n,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:r._afterZoomOut})},changeIn:function(){var t=r.current,e=t.nextEffect,i=t.pos,n={opacity:1},s=r.direction,o;i.opacity=.1,"elastic"===e&&(o="down"===s||"up"===s?"top":"left","down"===s||"right"===s?(i[o]=m(f(i[o])-200),n[o]="+=200px"):(i[o]=m(f(i[o])+200),n[o]="-=200px")),"none"===e?r._afterZoomIn():r.wrap.css(i).animate(n,{duration:t.nextSpeed,easing:t.nextEasing,complete:r._afterZoomIn})},changeOut:function(){var t=r.previous,e=t.prevEffect,n={opacity:.1},s=r.direction;"elastic"===e&&(n["down"===s||"up"===s?"top":"left"]=("up"===s||"left"===s?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},r.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,el:i("html"),create:function(t){t=i.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:t.parent),this.fixed=!1,t.fixed&&r.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=i.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(i(t.target).hasClass("fancybox-overlay"))return r.isActive?r.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(i(".fancybox-margin").removeClass("fancybox-margin"),t=o.scrollTop(),e=o.scrollLeft(),this.el.removeClass("fancybox-lock"),o.scrollTop(t).scrollLeft(e)),i(".fancybox-overlay").remove().hide(),i.extend(this,{overlay:null,fixed:!1})},update:function(){var t="100%",i;this.overlay.width(t).height("100%"),l?(i=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),a.width()>i&&(t=a.width())):a.width()>o.width()&&(t=a.width()),this.overlay.width(t).height(a.height())},onReady:function(t,e){var n=this.overlay;i(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(n||(this.margin=a.height()>o.height()&&i("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var n,s;e.locked&&(!1!==this.margin&&(i("*").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=o.scrollTop(),s=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(n).scrollLeft(s)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!r.coming&&this.overlay.fadeOut(t.speedOut,i.proxy(this.close,this))}},r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=r.current,n=e.title,s=t.type;if(i.isFunction(n)&&(n=n.call(e.element,e)),u(n)&&""!==i.trim(n)){switch(e=i('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+n+"</div>"),s){case"inside":s=r.skin;break;case"outside":s=r.wrap;break;case"over":s=r.inner;break;default:s=r.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),r.current.margin[2]+=Math.abs(f(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](s)}}},i.fn.fancybox=function(t){var e,n=i(this),s=this.selector||"",o=function(o){var a=i(this).blur(),l=e,h,c;!o.ctrlKey&&!o.altKey&&!o.shiftKey&&!o.metaKey&&!a.is(".fancybox-wrap")&&(h=t.groupAttr||"data-fancybox-group",c=a.attr(h),c||(h="rel",c=a.get(0)[h]),c&&""!==c&&"nofollow"!==c&&(a=s.length?i(s):n,a=a.filter("["+h+'="'+c+'"]'),l=a.index(this)),t.index=l,!1!==r.open(a,t)&&o.preventDefault())};return t=t||{},e=t.index||0,s&&!1!==t.live?a.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",o):n.unbind("click.fb-start").bind("click.fb-start",o),this.filter("[data-fancybox-start=1]").trigger("click"),this},a.ready(function(){var e,o;if(i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var t=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),e=e.innerWidth()-e.height(99).innerWidth();return t.remove(),e}),i.support.fixedPosition===n){e=i.support,o=i('<div style="position:fixed;top:20px;"></div>').appendTo("body");var a=20===o[0].offsetTop||15===o[0].offsetTop;o.remove(),e.fixedPosition=a}i.extend(r.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),e=i(t).width(),s.addClass("fancybox-lock-test"),o=i(t).width(),s.removeClass("fancybox-lock-test"),i("<style type='text/css'>.fancybox-margin{margin-right:"+(o-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function($){function t(t){this.options=$.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshState(!0),this.autoRotate(),this.makeCallback("onInit",this))},findElements:function(){if(this.gallery=$(this.options.holder).addClass(this.options.galleryReadyClass),this.slides=this.gallery.find(this.options.slides),this.slidesHolder=this.slides.eq(0).parent(),this.stepsCount=this.slides.length,this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentIndex=0,this.options.disableFadeIE&&!$.support.opacity&&(this.options.animSpeed=0),"string"==typeof this.options.generatePagination){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty(),this.pagerList=$(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)$(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var e=this.slides.filter("."+this.options.activeClass);e.length&&(this.currentIndex=this.slides.index(e)),this.prevIndex=this.currentIndex,this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber),this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var t=this;this.resizeHandler=function(){t.onWindowResize()},$(window).bind("load resize orientationchange",this.resizeHandler),this.btnPrev.length&&(this.btnPrevHandler=function(e){e.preventDefault(),t.prevSlide(),t.options.autorotationStopAfterClick&&t.stopRotation()},this.btnPrev.bind(this.options.event,this.btnPrevHandler)),this.btnNext.length&&(this.btnNextHandler=function(e){e.preventDefault(),t.nextSlide(),t.options.autorotationStopAfterClick&&t.stopRotation()},this.btnNext.bind(this.options.event,this.btnNextHandler)),this.pagerLinks.length&&(this.pagerLinksHandler=function(e){e.preventDefault(),t.numSlide(t.pagerLinks.index(e.currentTarget)),t.options.autorotationStopAfterClick&&t.stopRotation()},this.pagerLinks.bind(t.options.event,this.pagerLinksHandler)),this.btnPlay.length&&(this.btnPlayHandler=function(e){e.preventDefault(),t.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(e){e.preventDefault(),t.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(e){e.preventDefault(),t.gallery.hasClass(t.options.autorotationActiveClass)?t.stopRotation():t.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),this.options.useSwipe&&window.Hammer&&e&&(this.swipeHandler=new Hammer.Manager(this.gallery[0]),this.swipeHandler.add(new Hammer.Swipe({direction:Hammer.DIRECTION_HORIZONTAL,threshold:t.options.swipeThreshold})),this.swipeHandler.on("swipeleft",function(){t.nextSlide()}).on("swiperight",function(){t.prevSlide()})),this.options.pauseOnHover&&(this.hoverHandler=function(){t.options.autoRotation&&(t.galleryHover=!0,t.pauseRotation())},this.leaveHandler=function(){t.options.autoRotation&&(t.galleryHover=!1,t.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler}))},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex>0?(this.currentIndex--,this.switchSlide()):this.options.circularRotation&&(this.currentIndex=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex<this.stepsCount-1?(this.currentIndex++,this.switchSlide()):(this.options.circularRotation||!0===t)&&(this.currentIndex=0,this.switchSlide()))},numSlide:function(t){this.currentIndex!=t&&(this.prevIndex=this.currentIndex,this.currentIndex=t,this.switchSlide())},switchSlide:function(){var t=this;this.slides.length>1&&(this.galleryAnimating=!0,this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0}),this.switchNext=function(){t.options.animSpeed?t.slides.eq(t.currentIndex).stop().animate({opacity:1},{duration:t.options.animSpeed}):t.slides.eq(t.currentIndex).css({opacity:""}),clearTimeout(this.nextTimer),this.nextTimer=setTimeout(function(){t.slides.eq(t.currentIndex).css({opacity:""}),t.galleryAnimating=!1,t.autoRotate(),t.makeCallback("onChange",t)},t.options.animSpeed)},this.options.switchSimultaneously?t.switchNext():(clearTimeout(this.switchTimer),this.switchTimer=setTimeout(function(){t.switchNext()},this.options.animSpeed)),this.refreshState(),this.makeCallback("onBeforeChange",this))},refreshState:function(t){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.curNum.html(this.currentIndex+1),this.allNum.html(this.stepsCount),this.options.autoHeight&&(t?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed})),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentIndex&&this.btnPrev.addClass(this.options.disabledClass),this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",1===this.stepsCount)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():(this.gallery.addClass(this.options.autorotationActiveClass),this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime))},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler),this.btnNext.unbind(this.options.event,this.btnNextHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),$(window).unbind("load resize orientationchange",this.resizeHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.swipeHandler&&this.swipeHandler.destroy(),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" ")),this.slidesHolder.add(this.slides).removeAttr("style")}};var e=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.fadeGallery=function(e){return this.each(function(){$(this).data("FadeGallery",new t($.extend(e,{holder:this})))})}}(jQuery),function($){function t(t){this.options=$.extend({container:null,hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".nav-opener",menuDrop:".nav-drop",mobileClass:"touch-device",toggleEvent:"click",outsideClickEvent:"click touchstart pointerdown MSPointerDown",mobileScroll:!1},t),this.initStructure(),this.attachEvents(),this.makeCallback("onInit",this)}t.prototype={initStructure:function(){this.page=$("html"),this.win=$(window),this.body=$("body"),this.container=$(this.options.container),this.opener=this.container.find(this.options.menuOpener),this.drop=this.container.find(this.options.menuDrop),this.scrollTop=0},attachEvents:function(){var t=this;i&&this.container.addClass(this.options.mobileClass),e&&(e(),e=null),this.outsideClickHandler=function(e){if(t.isOpened()){var i=$(e.target);i.closest(t.opener).length||i.closest(t.drop).length||t.hide()}},this.openerClickHandler=function(e){e.preventDefault(),t.toggle()},this.opener.on(this.options.toggleEvent,this.openerClickHandler)},isOpened:function(){return this.container.hasClass(this.options.menuActiveClass)},show:function(){this.container.addClass(this.options.menuActiveClass),this.options.hideOnClickOutside&&this.page.on(this.options.outsideClickEvent,this.outsideClickHandler),this.options.mobileScroll&&(this.scrollTop=this.win.scrollTop(),this.body.css({top:-this.win.scrollTop()})),this.makeCallback("onOpen",this)},hide:function(){this.container.removeClass(this.options.menuActiveClass),this.options.hideOnClickOutside&&this.page.off(this.options.outsideClickEvent,this.outsideClickHandler),this.options.mobileScroll&&(this.body.css({top:""}),this.win.scrollTop(this.scrollTop)),this.makeCallback("onClose",this)},toggle:function(){this.isOpened()?this.hide():this.show()},destroy:function(){this.container.removeClass(this.options.menuActiveClass),this.opener.off(this.options.toggleEvent,this.clickHandler),this.page.off(this.options.outsideClickEvent,this.outsideClickHandler)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}};var e=function(){var t=$(window),e=$("html"),i="resize-active",n,s,o=function(){n=!1,e.removeClass(i)},a=function(){n||(n=!0,e.addClass(i)),clearTimeout(s),s=setTimeout(o,500)};t.on("resize orientationchange",a)},i=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;$.fn.mobileNav=function(e){return this.each(function(){var i=$.extend({},e,{container:this}),n=new t(i);$.data(this,"MobileNav",n)})}}(jQuery),function($,t){"use strict";function e(t){this.options=$.extend({fixedActiveClass:"fixed-position",slideBlock:"[data-scroll-block]",positionType:"auto",fixedOnlyIfFits:!0,container:null,animDelay:100,animSpeed:200,extraBottom:0,extraTop:0},t),this.initStructure(),this.attachEvents()}var i="ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch||/Windows Phone/.test(navigator.userAgent);e.prototype={initStructure:function(){this.win=$(t),this.container=$(this.options.container),this.slideBlock=this.container.find(this.options.slideBlock),"auto"===this.options.positionType&&(this.options.positionType=i?"absolute":"fixed")},attachEvents:function(){var t=this;this.onResize=function(){t.resizeHandler()},this.onScroll=function(){t.scrollHandler()},this.win.on({resize:this.onResize,scroll:this.onScroll}),this.resizeHandler()},recalculateOffsets:function(){var t=this.slideBlock.offset(),e=this.slideBlock.position(),i=this.container.offset(),n=this.win.height();this.data={windowHeight:this.win.height(),windowWidth:this.win.width(),blockPositionLeft:e.left,blockPositionTop:e.top,blockOffsetLeft:t.left,blockOffsetTop:t.top,blockHeight:this.slideBlock.innerHeight(),holderOffsetLeft:i.left,holderOffsetTop:i.top,holderHeight:this.container.innerHeight()}},isVisible:function(){return this.slideBlock.prop("offsetHeight")},fitsInViewport:function(){return!this.options.fixedOnlyIfFits||!this.data||this.data.blockHeight+this.options.extraTop<=this.data.windowHeight},resizeHandler:function(){this.isVisible()&&(e.stickyMethods[this.options.positionType].onResize.apply(this,arguments),this.scrollHandler())},scrollHandler:function(){if(this.isVisible()){if(!this.data)return void this.resizeHandler();this.currentScrollTop=this.win.scrollTop(),this.currentScrollLeft=this.win.scrollLeft(),e.stickyMethods[this.options.positionType].onScroll.apply(this,arguments)}},refresh:function(){this.data&&(this.data.holderHeight=this.container.innerHeight(),this.data.blockHeight=this.slideBlock.innerHeight(),this.scrollHandler())},destroy:function(){this.slideBlock.removeAttr("style").removeClass(this.options.fixedActiveClass),this.win.off({resize:this.onResize,scroll:this.onScroll})}},e.stickyMethods={fixed:{onResize:function(){this.slideBlock.removeAttr("style"),this.recalculateOffsets()},onScroll:function(){this.fitsInViewport()&&this.currentScrollTop+this.options.extraTop>this.data.blockOffsetTop?(this.currentScrollTop+this.options.extraTop+this.data.blockHeight>this.data.holderOffsetTop+this.data.holderHeight-this.options.extraBottom?this.slideBlock.css({position:"absolute",top:this.data.blockPositionTop+this.data.holderHeight-this.data.blockHeight-this.options.extraBottom-(this.data.blockOffsetTop-this.data.holderOffsetTop),left:this.data.blockPositionLeft}):this.slideBlock.css({position:"fixed",top:this.options.extraTop,left:this.data.blockOffsetLeft-this.currentScrollLeft}),this.slideBlock.addClass(this.options.fixedActiveClass)):this.slideBlock.removeClass(this.options.fixedActiveClass).removeAttr("style")}},absolute:{onResize:function(){this.slideBlock.removeAttr("style"),this.recalculateOffsets(),this.slideBlock.css({position:"absolute",top:this.data.blockPositionTop,left:this.data.blockPositionLeft}),this.slideBlock.addClass(this.options.fixedActiveClass)},onScroll:function(){var t=this;clearTimeout(this.animTimer),this.animTimer=setTimeout(function(){var e=t.currentScrollTop+t.options.extraTop,i=t.data.blockPositionTop-(t.data.blockOffsetTop-t.data.holderOffsetTop),n=t.data.holderHeight-t.data.blockHeight-t.options.extraBottom,s=i+Math.min(e-t.data.holderOffsetTop,n),o=t.fitsInViewport()&&e>t.data.blockOffsetTop?s:t.data.blockPositionTop;t.slideBlock.stop().animate({top:o},t.options.animSpeed)},this.options.animDelay)}}},$.fn.fixedScrollBlock=function(t){return this.each(function(){var i=$.extend({},t,{container:this}),n=new e(i);$.data(this,"FixedScrollBlock",n)})},t.FixedScrollBlock=e}(jQuery,this),function($,t){function e(t,e,i){var s;document.body&&(e="number"==typeof e?{duration:e}:e||{},n=n||$("html, body"),s=e.container||n,"number"==typeof t&&(t={top:t}),o&&a&&o.off(r,a),e.wheelBehavior&&"none"!==e.wheelBehavior&&(a=function(t){"stop"===e.wheelBehavior?(s.off(r,a),s.stop()):"ignore"===e.wheelBehavior&&t.preventDefault()},o=s.on(r,a)),s.stop().animate({scrollLeft:t.left,scrollTop:t.top},e.duration,function(){a&&s.off(r,a),$.isFunction(i)&&i()}))}function i(t){this.options=$.extend({anchorLinks:'a[href^="#"]',container:null,extraOffset:null,activeClasses:null,easing:"swing",animMode:"duration",animDuration:800,animSpeed:1500,anchorActiveClass:"anchor-active",sectionActiveClass:"section-active",wheelBehavior:"stop",useNativeAnchorScrolling:!1},t),this.init()}var n,s=$(window),o,a,r="onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll";i.prototype={init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.container=$(this.options.container?this.options.container:"html,body"),this.scrollContainer=this.options.container?this.container:s,this.anchorLinks=$(this.options.anchorLinks)},getAnchorTarget:function(t){var e=$(t).attr("href");return $(e.length>1?e:"html")},getTargetOffset:function(t){var e=t.offset().top;return this.options.container&&(e-=this.container.offset().top-this.container.prop("scrollTop")),"number"==typeof this.options.extraOffset?e-=this.options.extraOffset:"function"==typeof this.options.extraOffset&&(e-=this.options.extraOffset(t)),{top:e}},attachEvents:function(){var t=this;this.options.activeClasses&&(this.anchorData=[],this.anchorLinks.each(function(){var e=jQuery(this),i=t.getAnchorTarget(e),n;$.each(t.anchorData,function(t,e){e.block[0]===i[0]&&(n=e)}),n?n.link=n.link.add(e):t.anchorData.push({link:e,block:i})}),this.resizeHandler=function(){t.recalculateOffsets()},this.scrollHandler=function(){t.refreshActiveClass()},this.recalculateOffsets(),this.scrollContainer.on("scroll",this.scrollHandler),s.on("resize",this.resizeHandler)),this.clickHandler=function(e){t.onClick(e)},this.options.useNativeAnchorScrolling||this.anchorLinks.on("click",this.clickHandler)},recalculateOffsets:function(){var t=this;$.each(this.anchorData,function(e,i){i.offset=t.getTargetOffset(i.block),i.height=i.block.outerHeight()}),this.refreshActiveClass()},refreshActiveClass:function(){function t(t,i,n){t.toggleClass(e.options.anchorActiveClass,n),i.toggleClass(e.options.sectionActiveClass,n)}var e=this,i=!1,n=this.container.prop("scrollHeight"),o=this.scrollContainer.height(),a=this.options.container?this.container.prop("scrollTop"):s.scrollTop();if(this.options.customScrollHandler)return void this.options.customScrollHandler.call(this,a,this.anchorData);this.anchorData.sort(function(t,e){return t.offset.top-e.offset.top}),$.each(this.anchorData,function(s){var r=e.anchorData.length-s-1,l=e.anchorData[r],h="parent"===e.options.activeClasses?l.link.parent():l.link;a>=n-o?r===e.anchorData.length-1?t(h,l.block,!0):t(h,l.block,!1):!i&&(a>=l.offset.top-1||0===r)?(i=!0,t(h,l.block,!0)):t(h,l.block,!1)})},calculateScrollDuration:function(t){var e;return"speed"===this.options.animMode?(e=Math.abs(this.scrollContainer.scrollTop()-t.top))/this.options.animSpeed*1e3:this.options.animDuration},onClick:function(t){var i=this.getAnchorTarget(t.currentTarget),n=this.getTargetOffset(i);t.preventDefault(),e(n,{container:this.container,wheelBehavior:this.options.wheelBehavior,duration:this.calculateScrollDuration(n)})},destroy:function(){this.options.activeClasses&&(s.off("resize",this.resizeHandler),this.scrollContainer.off("scroll",this.scrollHandler)),this.anchorLinks.off("click",this.clickHandler)}},$.extend(i,{scrollTo:function(t,i,n){e(t,i,n)}}),t.SmoothScroll=i}(jQuery,this),
function($){function t(t,s){var o=$(),a,r=0,l=t.eq(0).offset().top;t.each(function(t){var n=$(this);n.offset().top===l?o=o.add(this):(a=e(o),r=Math.max(r,i(o,a,s)),o=n,l=n.offset().top)}),o.length&&(a=e(o),r=Math.max(r,i(o,a,s))),s.biggestHeight&&t.css(s.useMinHeight&&n?"minHeight":"height",r)}function e(t){var e=0;return t.each(function(){e=Math.max(e,$(this).outerHeight())}),e}function i(t,e,i){var s,o="number"==typeof e?e:e.height();return t.removeClass(i.leftEdgeClass).removeClass(i.rightEdgeClass).each(function(t){var a=$(this),r=0,l="border-box"===a.css("boxSizing")||"border-box"===a.css("-moz-box-sizing")||"border-box"===a.css("-webkit-box-sizing");"number"!=typeof e&&a.parents().each(function(){var t=$(this);if(e.is(this))return!1;r+=t.outerHeight()-t.height()}),s=o-r,(s-=l?0:a.outerHeight()-a.height())>0&&a.css(i.useMinHeight&&n?"minHeight":"height",s)}),t.filter(":first").addClass(i.leftEdgeClass),t.filter(":last").addClass(i.rightEdgeClass),s}$.fn.sameHeight=function(e){var s=$.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",elements:">*",flexible:!1,multiLine:!1,useMinHeight:!1,biggestHeight:!1},e);return this.each(function(){function e(){l.css(s.useMinHeight&&n?"minHeight":"height",""),s.multiLine?t(l,s):i(l,o,s)}var o=$(this),a,r,l=o.find(s.elements).not("."+s.skipClass);if(l.length){e();var h=function(){r||(r=!0,e(),clearTimeout(a),a=setTimeout(function(){e(),setTimeout(function(){r=!1},10)},100))};s.flexible&&$(window).bind("resize orientationchange fontresize",h),$(window).bind("load",h)}})};var n=void 0!==document.documentElement.style.maxHeight}(jQuery),function($){var t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e=/Windows Phone/.test(navigator.userAgent),i=t&&"touchstart"||e&&navigator.pointerEnabled&&"pointerdown"||e&&navigator.msPointerEnabled&&"MSPointerDown"||"mouseenter",n=t&&"touchend"||e&&navigator.pointerEnabled&&"pointerup"||e&&navigator.msPointerEnabled&&"MSPointerUp"||"mouseleave",s,o,a;t||e?(a=function(t){t.preventDefault()},s=function(t){var e=t.data,n=$(this),s=function(t){var o=$(t.target);o.is(n)||o.closest(n).length||(n.removeClass(e.hoverClass),n.off("click",a),e.onLeave&&e.onLeave(n),$(document).off(i,s))};n.hasClass(e.hoverClass)||(n.addClass(e.hoverClass),n.one("click",a),$(document).on(i,s),e.onHover&&e.onHover(n))}):(s=function(t){var e=t.data,i=$(this);i.addClass(e.hoverClass),$(e.context).on(n,e.selector,e,o),e.onHover&&e.onHover(i)},o=function(t){var e=t.data,i=$(this);i.removeClass(e.hoverClass),$(e.context).off(n,e.selector,o),e.onLeave&&e.onLeave(i)}),$.fn.touchHover=function(t){var e=$.extend({context:this.context,selector:this.selector,hoverClass:"hover"},t);return $(this.context).on(i,this.selector,e,s),this}}(jQuery),jQuery.onFontResize=function($){return $(function(){var t="font-resize-frame-"+Math.floor(1e3*Math.random()),e=$("<iframe>").attr("id",t).addClass("font-resize-helper");if(e.css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-9999px",left:"-9999px"}).appendTo("body"),window.attachEvent&&!window.addEventListener)e.bind("resize",function(){$.onFontResize.trigger(e[0].offsetWidth/100)});else{var i=e[0].contentWindow.document;i.open(),i.write('<script>window.onload = function(){var em = parent.jQuery("#'+t+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};</script>'),i.close()}jQuery.onFontResize.initialSize=e[0].offsetWidth/100}),{trigger:function(t){$(window).trigger("fontresize",[t])}}}(jQuery),function(t,e,$){function i(t){var e={},i=/^jQuery\d+$/;return $.each(t.attributes,function(t,n){n.specified&&!i.test(n.name)&&(e[n.name]=n.value)}),e}function n(t,e){var i=this,n=$(i);if(i.value==n.attr("placeholder")&&n.hasClass("placeholder"))if(n.data("placeholder-password")){if(n=n.hide().next().show().attr("id",n.removeAttr("id").data("placeholder-id")),!0===t)return n[0].value=e;n.focus()}else i.value="",n.removeClass("placeholder"),i==o()&&i.select()}function s(){var t,e=this,s=$(e),o=this.id;if(""==e.value){if("password"==e.type){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(e){t=$("<input>").attr($.extend(i(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":s,"placeholder-id":o}).bind("focus.placeholder",n),s.data({"placeholder-textinput":t,"placeholder-id":o}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",o).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}function o(){try{return e.activeElement}catch(t){}}var a="[object OperaMini]"==Object.prototype.toString.call(t.operamini),r="placeholder"in e.createElement("input")&&!a,l="placeholder"in e.createElement("textarea")&&!a,h=$.fn,c=$.valHooks,d=$.propHooks,u,p;r&&l?(p=h.placeholder=function(){return this},p.input=p.textarea=!0):(p=h.placeholder=function(){var t=this;return t.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":n,"blur.placeholder":s}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},p.input=r,p.textarea=l,u={get:function(t){var e=$(t),i=e.data("placeholder-password");return i?i[0].value:e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,e){var i=$(t),a=i.data("placeholder-password");return a?a[0].value=e:i.data("placeholder-enabled")?(""==e?(t.value=e,t!=o()&&s.call(t)):i.hasClass("placeholder")?n.call(t,!0,e)||(t.value=e):t.value=e,i):t.value=e}},r||(c.input=u,d.value=u),l||(c.textarea=u,d.value=u),$(function(){$(e).delegate("form","submit.placeholder",function(){var t=$(".placeholder",this).each(n);setTimeout(function(){t.each(s)},10)})}),$(t).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.jcf=e(jQuery)}(this,function($){"use strict";var t="1.1.2",e=[],i={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},n="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,s=/Windows Phone/.test(navigator.userAgent);i.isMobileDevice=!(!n&&!s);var o=function(){var t=$("<style>").appendTo("head"),e=t.prop("sheet")||t.prop("styleSheet"),n=function(t,i,n){e.insertRule?e.insertRule(t+"{"+i+"}",n):e.addRule(t,i,n)};n("."+i.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+i.rtlClass+" ."+i.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+i.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),n("."+i.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var s=$("html"),o=$("body");"rtl"!==s.css("direction")&&"rtl"!==o.css("direction")||s.addClass(i.rtlClass),s.on("reset",function(){setTimeout(function(){r.refreshAll()},0)}),i.styleSheetCreated=!0};!function(){var t=navigator.pointerEnabled||navigator.msPointerEnabled,e="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,i,n={},s="jcf-";i=t?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(e?" touchstart":""),pointermove:"mousemove"+(e?" touchmove":""),pointerup:"mouseup"+(e?" touchend":"")},$.each(i,function(t,e){$.each(e.split(" "),function(e,i){n[i]=t})}),$.each(i,function(t,e){e=e.split(" "),$.event.special["jcf-"+t]={setup:function(){var t=this;$.each(e,function(e,i){t.addEventListener?t.addEventListener(i,r,!1):t["on"+i]=r})},teardown:function(){var t=this;$.each(e,function(e,i){t.addEventListener?t.removeEventListener(i,r,!1):t["on"+i]=null})}}});var o=null,a=function(t){var e=Math.abs(t.pageX-o.x),i=Math.abs(t.pageY-o.y),n=25;if(e<=25&&i<=25)return!0},r=function(t){var e=t||window.event,i=null,s=n[e.type];if(t=$.event.fix(e),t.type="jcf-"+s,e.pointerType)switch(e.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=e.pointerType}else t.pointerType=e.type.substr(0,5);return t.pageX||t.pageY||(i=e.changedTouches?e.changedTouches[0]:e,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===e.type&&(o={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&o&&a(t)?void 0:($.event.dispatch||$.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),e="jcf-mousewheel";$.event.special[e]={setup:function(){var e=this;$.each(t,function(t,n){e.addEventListener?e.addEventListener(n,i,!1):e["on"+n]=i})},teardown:function(){var e=this;$.each(t,function(t,n){e.addEventListener?e.removeEventListener(n,i,!1):e["on"+n]=null})}};var i=function(t){var i=t||window.event;if(t=$.event.fix(i),t.type=e,"detail"in i&&(t.deltaY=-i.detail),"wheelDelta"in i&&(t.deltaY=-i.wheelDelta),"wheelDeltaY"in i&&(t.deltaY=-i.wheelDeltaY),"wheelDeltaX"in i&&(t.deltaX=-i.wheelDeltaX),"deltaY"in i&&(t.deltaY=i.deltaY),"deltaX"in i&&(t.deltaX=i.deltaX),t.delta=t.deltaY||t.deltaX,1===i.deltaMode){var n=16;t.delta*=16,t.deltaY*=16,t.deltaX*=16}return($.event.dispatch||$.event.handle).call(this,t)}}();var a={fireNativeEvent:function(t,e){$(t).each(function(){var t=this,i;t.dispatchEvent?(i=document.createEvent("HTMLEvents"),i.initEvent(e,!0,!0),t.dispatchEvent(i)):document.createEventObject&&(i=document.createEventObject(),i.target=t,t.fireEvent("on"+e,i))})},bindHandlers:function(){var t=this;$.each(t,function(e,i){0===e.indexOf("on")&&$.isFunction(i)&&(t[e]=function(){return i.apply(t,arguments)})})}},r={version:"1.1.2",modules:{},getOptions:function(){return $.extend({},i)},setOptions:function(t,e){arguments.length>1?this.modules[t]&&$.extend(this.modules[t].prototype.options,e):$.extend(i,t)},addModule:function(t){var n=function(t){t.element.data(i.dataKey)||t.element.data(i.dataKey,this),e.push(this),this.options=$.extend({},i,this.options,s(t.element),t),this.bindHandlers(),this.init.apply(this,arguments)},s=function(t){var e=t.data(i.optionsKey),n=t.attr(i.optionsKey);if(e)return e;if(n)try{return $.parseJSON(n)}catch(t){}};n.prototype=t,$.extend(t,a),t.plugins&&$.each(t.plugins,function(t,e){$.extend(e.prototype,a)});var o=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var t=e.length-1;t>=0;t--)if(e[t]===this){e.splice(t,1);break}o&&o.apply(this,arguments)},this.modules[t.name]=n},getInstance:function(t){return $(t).data(i.dataKey)},replace:function(t,e,n){var s=this,a;return i.styleSheetCreated||o(),$(t).each(function(){var t,o=$(this);a=o.data(i.dataKey),a?a.refresh():(e||$.each(s.modules,function(t,i){if(i.prototype.matchElement.call(i.prototype,o))return e=t,!1}),e&&(t=$.extend({element:o},n),a=new s.modules[e](t)))}),a},refresh:function(t){$(t).each(function(){var t=$(this).data(i.dataKey);t&&t.refresh()})},destroy:function(t){$(t).each(function(){var t=$(this).data(i.dataKey);t&&t.destroy()})},replaceAll:function(t){var e=this;$.each(this.modules,function(i,n){$(n.prototype.selector,t).each(function(){this.className.indexOf("jcf-ignore")<0&&e.replace(this,i)})})},refreshAll:function(t){if(t)$.each(this.modules,function(e,n){$(n.prototype.selector,t).each(function(){var t=$(this).data(i.dataKey);t&&t.refresh()})});else for(var n=e.length-1;n>=0;n--)e[n].refresh()},destroyAll:function(t){if(t)$.each(this.modules,function(e,n){$(n.prototype.selector,t).each(function(t,e){var n=$(e).data(i.dataKey);n&&n.destroy()})});else for(;e.length;)e[0].destroy()}};return r}),function($,t){"use strict";function e(t){this.options=$.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},t),this.init()}function i(t){this.options=$.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},t),this.init()}function n(t){this.options=$.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},t),this.init()}jcf.addModule({name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:i,ComboBox:e,SelectList:n},matchElement:function(t){return t.is("select")},init:function(){this.element=$(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new i(this.options):this.instance=new e(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof e||!this.isListBox()&&this.instance instanceof i?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}}),$.extend(e.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=$(t),this.doc=$(document),this.realElement=$(this.options.element),this.fakeElement=$(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=$("<span></span>").appendTo(this.selectTextContainer),o(this.fakeElement),this.fakeElement.addClass(s(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?$("body"):this.fakeElement)},attachEvents:function(){var t=this;this.delayedRefresh=function(){setTimeout(function(){t.refresh(),t.list&&t.list.refresh()},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(t){13===t.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(t,e){this.pressedFlag=!1,"mouse"===e.pointerType&&this.realElement.focus()},onSelectAreaPress:function(t){!this.options.fakeDropInBody&&$(t.target).closest(this.dropdown).length||t.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=t.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===t.pointerType?this.realElement.focus():this.onFocus(t)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(t){this.focusedFlag&&"mouse"===t.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(t){var e=$(t.target);e.closest(this.fakeElement).length||e.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(t){this.options.wrapNative||(t?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=$(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(s(this.realElement.prop("className"),this.options.selectClassPrefix)),o(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new n({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),$(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var t=this.fakeElement.offset(),e=this.fakeElement.outerWidth(),i=this.fakeElement.outerHeight(),n=this.dropdown.css("width",e).outerHeight(),s=this.win.scrollTop(),o=this.win.height(),a,r,l,h=!1;t.top+i+n>s+o&&t.top-n>s&&(h=!0),this.options.fakeDropInBody&&(l="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&h?(r=t.left,a=t.top-n-l):(r=t.left,a=t.top+i-l),this.dropdown.css({width:e,left:r,top:a})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&h)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var t=this.realElement.prop("selectedIndex"),e=this.realElement.prop("options")[t],i=e?e.getAttribute("data-image"):null,n="",o;this.realElement.prop("multiple")?($.each(this.realElement.prop("options"),function(t,e){e.selected&&(n+=(n?", ":"")+e.innerHTML)}),this.selectText.removeAttr("class").html(n)):e?this.currentSelectedText===e.innerHTML&&this.currentSelectedImage===i||(o=s(e.className,this.options.optionClassPrefix),this.selectText.attr("class",o).html(e.innerHTML),i?(this.selectImage||(this.selectImage=$("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",i).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=e.innerHTML,this.currentSelectedImage=i):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),$.extend(i.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=$(this.options.element),this.fakeElement=$(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),o(this.fakeElement),this.fakeElement.addClass(s(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new n({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var t=this;this.delayedRefresh=function(e){e&&16===e.which||(clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout(function(){t.refresh()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),$(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(t,e){this.pressedFlag=!0,"mouse"===e.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(t,e){this.pressedFlag=!1,"mouse"===e.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),$.extend(n.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=$(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=$(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList()},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(t){$(this).trigger("press",t),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(t){$(this).trigger("release",t),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(t){var e=parseFloat(t.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(e).addClass(this.options.hoverClass)},onItemPress:function(t){"touch"===t.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(t)},onItemRelease:function(t){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:t.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(t){var e=parseFloat(t.currentTarget.getAttribute(this.options.indexAttribute)),i=t.data&&t.data.savedPointerType||t.pointerType||"mouse",n;this.listHolder.off("click",this.indexSelector,this.onSelectItem),t.button>1||this.realOptions[e].disabled||(this.element.prop("multiple")?t.metaKey||t.ctrlKey||"touch"===i||this.options.multipleSelectWithoutKey?this.realOptions[e].selected=!this.realOptions[e].selected:t.shiftKey?(n=[this.lastClickedIndex,e].sort(function(t,e){return t-e}),this.realOptions.each(function(t,e){e.selected=t>=n[0]&&t<=n[1]})):this.element.prop("selectedIndex",e):this.element.prop("selectedIndex",e),t.shiftKey||(this.lastClickedIndex=e),this.refreshSelectedClass(),"mouse"===i&&this.scrollToActiveOption(),$(this).trigger("select"))},rebuildList:function(){var t=this,e=this.element[0];this.storedSelectHTML=e.innerHTML,this.optionIndex=0,this.list=$(this.createOptionsList(e)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var i=this.options.maxVisibleItems,n=this.element.prop("size");n>1&&!this.element.is("[jcf-size]")&&(i=n);var s=this.fakeOptions.length>i;if(this.container.toggleClass(this.options.scrollClass,s),s&&(this.listHolder.css({maxHeight:this.getOverflowHeight(i),overflow:"auto"}),this.options.useCustomScroll&&jcf.modules.Scrollable))return void jcf.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel});this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var i=t.listHolder.scrollTop(),n=t.listHolder.prop("scrollHeight")-t.listHolder.innerHeight();(i<=0&&e.deltaY<0||i>=n&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler))},refreshSelectedClass:function(){var t=this,e,i=this.element.prop("multiple"),n=this.element.prop("selectedIndex");i?this.realOptions.each(function(e,i){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!i.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(n).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var t=this.getActiveOptionOffset();this.listHolder.prop("scrollTop",t)},getSelectedIndexRange:function(){var t=-1,e=-1;return this.realOptions.each(function(i,n){n.selected&&(t<0&&(t=i),e=i)}),[t,e]},getChangedSelectedIndex:function(){var t=this.element.prop("selectedIndex"),e;return this.element.prop("multiple")?(this.previousRange||(this.previousRange=[t,t]),this.currentRange=this.getSelectedIndexRange(),e=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1],this.previousRange=this.currentRange,e):t},getActiveOptionOffset:function(){var t=this.listHolder.height(),e=this.listHolder.prop("scrollTop"),i=this.getChangedSelectedIndex(),n=this.fakeOptions.eq(i),s=n.offset().top-this.list.offset().top,o=n.innerHeight();return s+o>=e+t?s-t+o:s<e?s:void 0},getOverflowHeight:function(t){var e=this.fakeListItems.eq(t-1),i=this.list.offset().top;return e.offset().top+e.innerHeight()-i},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(t){this.listHolder.scrollTop(t)},createOption:function(t){var e=document.createElement("span");e.className=this.options.optionClass,e.innerHTML=t.innerHTML,e.setAttribute(this.options.indexAttribute,this.optionIndex++);var i,n=t.getAttribute("data-image");return n&&(i=document.createElement("img"),i.src=n,e.insertBefore(i,e.childNodes[0])),t.disabled&&(e.className+=" "+this.options.disabledClass),t.className&&(e.className+=" "+s(t.className,this.options.cloneClassPrefix)),e},createOptGroup:function(t){var e=document.createElement("span"),i=t.getAttribute("label"),n,s;return n=document.createElement("span"),n.className=this.options.captionClass,n.innerHTML=i,e.appendChild(n),t.children.length&&(s=this.createOptionsList(t),e.appendChild(s)),e.className=this.options.groupClass,e},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(t){var e=this,i=document.createElement("ul");return $.each(t.children,function(t,n){var s=e.createOptionContainer(n),o;switch(n.tagName.toLowerCase()){case"option":o=e.createOption(n);break;case"optgroup":o=e.createOptGroup(n);break}i.appendChild(s).appendChild(o)}),i},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=jcf.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var s=function(t,e){return t?t.replace(/[\s]*([\S]+)+[\s]*/gi,e+"$1 "):""},o=function(){function t(t){t.preventDefault()}var e=jcf.getOptions().unselectableClass;return function(i){i.addClass(e).on("selectstart",t)}}()}(jQuery,this),function($){function t(t){this.options=$.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},t),this.init()}t.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.holder=$(this.options.holder),this.opener=this.holder.find(this.options.opener),this.slider=this.holder.find(this.options.slider)},attachEvents:function(){var t=this;this.eventHandler=function(i){i.preventDefault(),t.slider.hasClass(e)?t.showSlide():t.hideSlide()},t.opener.bind(t.options.event,this.eventHandler),"over"===t.options.event&&(t.opener.bind("mouseenter",function(){t.showSlide()}),t.holder.bind("mouseleave",function(){t.hideSlide()})),t.outsideClickHandler=function(e){if(t.options.hideOnClickOutside){var i=$(e.target);i.is(t.holder)||i.closest(t.holder).length||t.hideSlide()}},this.holder.hasClass(this.options.activeClass)?$(document).bind("click touchstart",t.outsideClickHandler):this.slider.addClass(e)},showSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.addClass(t.options.activeClass),t.slider.removeClass(e),$(document).bind("click touchstart",t.outsideClickHandler),t.makeCallback("animStart",!0),i[t.options.effect].show({box:t.slider,speed:t.options.animSpeed,complete:function(){
t.options.addClassBeforeAnimation||t.holder.addClass(t.options.activeClass),t.makeCallback("animEnd",!0)}})},hideSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.removeClass(t.options.activeClass),$(document).unbind("click touchstart",t.outsideClickHandler),t.makeCallback("animStart",!1),i[t.options.effect].hide({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.removeClass(t.options.activeClass),t.slider.addClass(e),t.makeCallback("animEnd",!1)}})},destroy:function(){this.slider.removeClass(e).css({display:""}),this.opener.unbind(this.options.event,this.eventHandler),this.holder.removeClass(this.options.activeClass).removeData("OpenClose"),$(document).unbind("click touchstart",this.outsideClickHandler)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}};var e="js-slide-hidden";!function(){var t=$('<style type="text/css">')[0],i="."+e;i+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}",t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i)),$("head").append(t)}();var i={slide:{show:function(t){t.box.stop(!0).hide().slideDown(t.speed,t.complete)},hide:function(t){t.box.stop(!0).slideUp(t.speed,t.complete)}},fade:{show:function(t){t.box.stop(!0).hide().fadeIn(t.speed,t.complete)},hide:function(t){t.box.stop(!0).fadeOut(t.speed,t.complete)}},none:{show:function(t){t.box.hide().show(0,t.complete)},hide:function(t){t.box.hide(0,t.complete)}}};$.fn.openClose=function(e){return this.each(function(){jQuery(this).data("OpenClose",new t($.extend(e,{holder:this})))})}}(jQuery),function($,t){"use strict";function e(t){this.options=$.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},t),this.init()}jcf.addModule({name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:e},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(t){return t.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=$(document),this.win=$(t),this.realElement=$(this.options.element),this.scrollWrapper=$(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var t=this;this.vBar=new e({holder:this.scrollWrapper,vertical:!0,onScroll:function(e){t.realElement.scrollTop(e)}}),this.hBar=new e({holder:this.scrollWrapper,vertical:!1,onScroll:function(e){t.realElement.scrollLeft(e)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){$(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(t){"touch"===t.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:t.pageX,top:t.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(t){var e,i,n=this.verticalScrollActive,s=this.horizontalScrollActive;"touch"===t.pointerType&&(e=this.touchData.scrollTop-t.pageY+this.touchData.top,i=this.touchData.scrollLeft-t.pageX+this.touchData.left,this.verticalScrollActive&&(e<0||e>this.vBar.maxValue)&&(n=!1),this.horizontalScrollActive&&(i<0||i>this.hBar.maxValue)&&(s=!1),this.realElement.scrollTop(e),this.realElement.scrollLeft(i),n||s?t.preventDefault():this.onReleaseBody(t))},onReleaseBody:function(t){"touch"===t.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(t){var e=this.realElement.scrollTop(),i=this.realElement.scrollLeft(),n=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,s=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth,o,a,r;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&t.deltaY&&(e<=0&&t.deltaY<0||e>=n&&t.deltaY>0||(r=!0)),this.horizontalScrollActive&&t.deltaX&&(i<=0&&t.deltaX<0||i>=s&&t.deltaX>0||(r=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(r||this.options.alwaysPreventMouseWheel)&&(t.preventDefault(),o=t.deltaX/100*this.options.mouseWheelStep,a=t.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(e+a),this.realElement.scrollLeft(i+o))},setScrollBarEdge:function(t){this.vBarEdge=t||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var t,e,i,n;return this.isModifiedStyles?t={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),e=this.realElement.prop("style"),n=parseFloat(e.width),i=parseFloat(e.height),this.embeddedDimensions&&n&&i&&(this.isModifiedStyles|=n!==this.embeddedDimensions.width||i!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),t={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),t},getEmbeddedDimensions:function(t){var e=this.vBar.getThickness(),i=this.hBar.getThickness(),n=this.realElement.outerWidth()-this.realElement.width(),s=this.realElement.outerHeight()-this.realElement.height(),o;return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,o={innerWidth:t.width-e,innerHeight:t.height-i}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:t.width-n,height:t.height-s}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),o={innerWidth:t.width-(this.verticalScrollActive?e:0),innerHeight:t.height-(this.horizontalScrollActive?i:0)}),$.extend(o,{width:o.innerWidth-n,height:o.innerHeight-s}),o},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var t,e;this.verticalScrollActive?(t=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,e=this.realElement.prop("scrollHeight")-this.vBarEdge,this.vBar.show().setMaxValue(e-t).setRatio(t/e).setSize(t),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(t=this.embeddedDimensions.innerWidth,e=this.realElement.prop("scrollWidth"),e===t&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(e-t).setRatio(t/e).setSize(t),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var i="";this.verticalScrollActive&&this.horizontalScrollActive?i="none":this.verticalScrollActive?i="pan-x":this.horizontalScrollActive&&(i="pan-y"),this.realElement.css("touchAction",i)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}}),$.extend(e.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=$(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=$(this.options.holder),this.scrollbar=$(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(t){"mouse"===t.pointerType&&t.button>1||(t.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=t[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(t){t.preventDefault(),this.calcOffset=t[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(t){var e,i;"mouse"===t.pointerType&&t.button>1||(t.preventDefault(),this.handleDragActive||(this.slider.is(t.currentTarget)?(e=this.handle.offset()[this.offsetProperty]>t[this.offsetEventProperty]?-1:1,i=t[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(e,i)):(e=this.btnDec.is(t.currentTarget)?-1:1,this.startSmoothScrolling(e)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(t,e){var i=this,n=t*i.currentSize,s=function(){var n=i.value/i.maxValue*(i.currentSliderSize-i.handleSize);return t>0?n+i.handleSize>=e:n<=e},o=function(){i.value+=n,i.setValue(i.value),i.triggerScrollEvent(i.value),s()&&clearInterval(i.pageScrollTimer)};this.pageScrollTimer=setInterval(o,this.options.scrollInterval),o()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(e){var i=this,n;this.stopSmoothScrolling();var s=t.requestAnimationFrame||function(t){setTimeout(t,16)},o=function(){return Date.now?Date.now():(new Date).getTime()},a=function(){return e>0?i.value>=i.maxValue:i.value<=0},r=function(){var t=(o()-n)/1e3*i.options.scrollStep;i.smoothScrollActive&&(i.value+=t*e,i.setValue(i.value),i.triggerScrollEvent(i.value),a()||(n=o(),s(r)))};i.smoothScrollActive=!0,n=o(),s(r)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(t){this.options.onScroll&&this.options.onScroll(t)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(t){var e=this.btnDec[this.fullSizeProperty](),i=this.btnInc[this.fullSizeProperty]();return this.currentSize=t,this.currentSliderSize=t-e-i,this.scrollbar.css(this.sizeProperty,t),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(t){return this.ratio=t,this},setMaxValue:function(t){return this.maxValue=t,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(t){this.value=t,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(t){return this.scrollbar.css(t),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}})}(jQuery,this);var ImageStretcher={getDimensions:function(t){var e=t.imageRatio||t.imageWidth/t.imageHeight,i=t.maskWidth,n=i/e;return n<t.maskHeight&&(n=t.maskHeight,i=n*e),{width:i,height:n,top:(t.maskHeight-n)/2,left:(t.maskWidth-i)/2}},getRatio:function(t){if(t.prop("naturalWidth"))return t.prop("naturalWidth")/t.prop("naturalHeight");var e=new Image;return e.src=t.prop("src"),e.width/e.height},imageLoaded:function(t,e){var i=this,n=function(){e.call(i)};t.prop("complete")?n():t.one("load",n)},resizeHandler:function(){var t=this;jQuery.each(this.imgList,function(e,i){i.image.prop("complete")&&t.resizeImage(i.image,i.container)})},resizeImage:function(t,e){this.imageLoaded(t,function(){var i=this.getDimensions({imageRatio:this.getRatio(t),maskWidth:e.width(),maskHeight:e.height()});t.css({width:i.width,height:i.height,marginTop:i.top,marginLeft:i.left})})},add:function(t){var e=jQuery(t.container?t.container:window),i="string"==typeof t.image?e.find(t.image):jQuery(t.image);this.resizeImage(i,e),this.win||(this.resizeHandler=jQuery.proxy(this.resizeHandler,this),this.imgList=[],this.win=jQuery(window),this.win.on("resize orientationchange",this.resizeHandler)),this.imgList.push({container:e,image:i})}};!function(){var t,e=function(){return window.innerHeight||document.documentElement.clientHeight},i=function(){var e=jQuery("<style>").appendTo("head");t=e.prop("sheet")||e.prop("styleSheet");var i=function(e,i,n){t.insertRule?t.insertRule(e+"{"+i+"}",n):t.addRule(e,i,n)};i(".win-min-height","min-height:0"),i(".win-height","height:auto"),i(".win-max-height","max-height:100%"),n()},n=function(){var i=e(),n=t.cssRules||t.rules;jQuery.each(n,function(t,e){var n=e.selectorText.toLowerCase().replace(".win-","").replace("-h","H");e.style[n]=i+"px"})};i(),jQuery(window).on("resize orientationchange",n)}(),ResponsiveHelper=function($){function t(){var t=a.width();t!==o&&(o=t,$.each(s,function(t,i){$.each(i.data,function(t,i){i.currentActive&&!e(i.range[0],i.range[1])&&(i.currentActive=!1,"function"==typeof i.disableCallback&&i.disableCallback())}),$.each(i.data,function(t,i){!i.currentActive&&e(i.range[0],i.range[1])&&(i.currentActive=!0,"function"==typeof i.enableCallback&&i.enableCallback())})}))}function e(t,e){var n="";return t>0&&(n+="(min-width: "+t+"px)"),e<1/0&&(n+=(n?" and ":"")+"(max-width: "+e+"px)"),i(n,t,e)}function i(t,e,i){return window.matchMedia&&r?matchMedia(t).matches:window.styleMedia?styleMedia.matchMedium(t):window.media?media.matchMedium(t):o>=e&&o<=i}function n(t){var e=t.split("..");return[parseInt(e[0],10)||-1/0,parseInt(e[1],10)||1/0].sort(function(t,e){return t-e})}var s=[],o,a=$(window),r=!1;return window.matchMedia&&(window.Window&&window.matchMedia===Window.prototype.matchMedia?r=!0:window.matchMedia.toString().indexOf("native")>-1&&(r=!0)),a.bind("load resize orientationchange",t),{addRange:function(e){var i={data:{}};$.each(e,function(t,e){i.data[t]={range:n(t),enableCallback:e.on,disableCallback:e.off}}),s.push(i),o=null,t()}}}(jQuery),Object.create&&function(t,e,i,n){"use strict";function s(t,e,i){return setTimeout(c(t,i),e)}function o(t,e,i){return!!Array.isArray(t)&&(a(t,i[e],i),!0)}function a(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function r(t,e,i){for(var s=Object.keys(e),o=0;o<s.length;)(!i||i&&t[s[o]]===n)&&(t[s[o]]=e[s[o]]),o++;return t}function l(t,e){return r(t,e,!0)}function h(t,e,i){var n,s=e.prototype;n=t.prototype=Object.create(s),n.constructor=t,n._super=s,i&&r(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function d(t,e){return typeof t==ct?t.apply(e?e[0]||n:n,e):t}function u(t,e){return t===n?e:t}function p(t,e,i){a(v(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){a(v(e),function(e){t.removeEventListener(e,i,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];y(s,a)<0&&n.push(t[o]),s[o]=a,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function k(t,e){for(var i,s,o=e[0].toUpperCase()+e.slice(1),a=0;a<lt.length;){if(i=lt[a],(s=i?i+o:e)in t)return s;a++}return n}function C(){return ft++}function x(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function D(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){d(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i||(vt?N:yt?B:gt?Q:L))(t,_)}function _(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&Dt&&n-s==0,a=e&(_t|Tt)&&n-s==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,T(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function T(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=M(e)),s>1&&!i.firstMultiple?i.firstMultiple=M(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,r=a?a.center:o.center,l=e.center=A(n);e.timeStamp=pt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=j(r,l),e.distance=O(r,l),E(i,e),e.offsetDirection=P(e.deltaX,e.deltaY),e.scale=a?z(a.pointers,n):1,e.rotation=a?R(a.pointers,n):0,H(i,e);var h=t.element;m(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function E(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(e.eventType===Dt||o.eventType===_t)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}function H(t,e){var i,s,o,a,r=t.lastInterval||e,l=e.timeStamp-r.timeStamp;if(e.eventType!=Tt&&(l>xt||r.velocity===n)){var h=r.deltaX-e.deltaX,c=r.deltaY-e.deltaY,d=I(l,h,c);s=d.x,o=d.y,i=ut(d.x)>ut(d.y)?d.x:d.y,a=P(h,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function M(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:dt(t.pointers[i].clientX),clientY:dt(t.pointers[i].clientY)},i++;return{timeStamp:pt(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:dt(t[0].clientX),y:dt(t[0].clientY)};for(var i=0,n=0,s=0;e>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:dt(i/e),y:dt(n/e)}}function I(t,e,i){return{x:e/t||0,y:i/t||0}}function P(t,e){return t===e?Et:ut(t)>=ut(e)?t>0?Ht:Mt:e>0?At:It}function O(t,e,i){i||(i=Rt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function j(t,e,i){i||(i=Rt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function R(t,e){return j(e[1],e[0],zt)-j(t[1],t[0],zt)}function z(t,e){return O(e[0],e[1],zt)/O(t[0],t[1],zt)}function L(){this.evEl=Nt,this.evWin=Ft,this.allow=!0,this.pressed=!1,D.apply(this,arguments)}function N(){this.evEl=Yt,this.evWin=Qt,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget=Vt,this.evWin=qt,this.started=!1,D.apply(this,arguments)}function W(t,e){var i=b(t.touches),n=b(t.changedTouches);return e&(_t|Tt)&&(i=w(i.concat(n),"identifier",!0)),[i,n]}function B(){this.evTarget=Ut,this.targetIds={},D.apply(this,arguments)}function Y(t,e){var i=b(t.touches),n=this.targetIds;if(e&(Dt|St)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,a=b(t.changedTouches),r=[],l=this.target;if(o=i.filter(function(t){return m(t.target,l)}),e===Dt)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<a.length;)n[a[s].identifier]&&r.push(a[s]),e&(_t|Tt)&&delete n[a[s].identifier],s++;return r.length?[w(o.concat(r),"identifier",!0),r]:void 0}function Q(){D.apply(this,arguments);var t=c(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new L(this.manager,t)}function K(t,e){this.manager=t,this.set(e)}function V(t){if(g(t,ee))return ee;var e=g(t,ie),i=g(t,ne);return e&&i?ie+" "+ne:e||i?e?ie:ne:g(t,te)?te:Jt}function q(t){this.id=C(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=se,this.simultaneous={},this.requireFail=[]}function X(t){return t&he?"cancel":t&re?"end":t&ae?"move":t&oe?"start":""}function U(t){return t==It?"down":t==At?"up":t==Ht?"left":t==Mt?"right":""}function G(t,e){var i=e.manager;return i?i.get(t):t}function Z(){q.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function tt(){q.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function it(){Z.apply(this,arguments)}function nt(){q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function st(t,e){return e=e||{},e.recognizers=u(e.recognizers,st.defaults.preset),new ot(t,e)}function ot(t,e){e=e||{},this.options=l(e,st.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new K(this,this.options.touchAction),at(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function at(t,e){var i=t.element;a(t.options.cssProps,function(t,n){i.style[k(i.style,n)]=e?t:""})}function rt(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var lt=["","webkit","moz","MS","ms","o"],ht=e.createElement("div"),ct="function",dt=Math.round,ut=Math.abs,pt=Date.now,ft=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,gt="ontouchstart"in t,vt=k(t,"PointerEvent")!==n,yt=gt&&mt.test(navigator.userAgent),bt="touch",wt="pen",kt="mouse",Ct="kinect",xt=25,Dt=1,St=2,_t=4,Tt=8,Et=1,Ht=2,Mt=4,At=8,It=16,Pt=Ht|Mt,Ot=At|It,jt=Pt|Ot,Rt=["x","y"],zt=["clientX","clientY"];D.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(x(this.element),this.evWin,this.domHandler)}};var Lt={mousedown:Dt,mousemove:St,mouseup:_t},Nt="mousedown",Ft="mousemove mouseup";h(L,D,{handler:function(t){var e=Lt[t.type];e&Dt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=_t),this.pressed&&this.allow&&(e&_t&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:kt,srcEvent:t}))}});var Wt={pointerdown:Dt,pointermove:St,pointerup:_t,pointercancel:Tt,pointerout:Tt},Bt={2:bt,3:wt,4:kt,5:Ct},Yt="pointerdown",Qt="pointermove pointerup pointercancel";t.MSPointerEvent&&(Yt="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),h(N,D,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Wt[n],o=Bt[t.pointerType]||t.pointerType,a=o==bt,r=y(e,t.pointerId,"pointerId");s&Dt&&(0===t.button||a)?0>r&&(e.push(t),r=e.length-1):s&(_t|Tt)&&(i=!0),0>r||(e[r]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var Kt={touchstart:Dt,touchmove:St,touchend:_t,touchcancel:Tt},Vt="touchstart",qt="touchstart touchmove touchend touchcancel";h(F,D,{handler:function(t){var e=Kt[t.type];if(e===Dt&&(this.started=!0),this.started){var i=W.call(this,t,e);e&(_t|Tt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:bt,srcEvent:t})}}});var Xt={touchstart:Dt,touchmove:St,touchend:_t,touchcancel:Tt},Ut="touchstart touchmove touchend touchcancel";h(B,D,{handler:function(t){var e=Xt[t.type],i=Y.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:bt,srcEvent:t})}}),h(Q,D,{handler:function(t,e,i){var n=i.pointerType==bt,s=i.pointerType==kt;if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;e&(_t|Tt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Gt=k(ht.style,"touchAction"),Zt=Gt!==n,$t="compute",Jt="auto",te="manipulation",ee="none",ie="pan-x",ne="pan-y";K.prototype={set:function(t){t==$t&&(t=this.compute()),Zt&&(this.manager.element.style[Gt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){d(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,s=g(n,ee),o=g(n,ne),a=g(n,ie);return s||o&&i&Pt||a&&i&Ot?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var se=1,oe=2,ae=4,re=8,le=re,he=16,ce=32;q.prototype={defaults:{},set:function(t){return r(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=G(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=G(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=G(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=G(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?X(n):""),t)}var i=this,n=this.state;re>n&&e(!0),e(),n>=re&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|se)))return!1;t++}return!0},recognize:function(t){var e=r({},t);return d(this.options.enable,[this,e])?(this.state&(le|he|32)&&(this.state=se),this.state=this.process(e),void(this.state&(oe|ae|re|he)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},h(Z,q,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(oe|ae),s=this.attrTest(t);return n&&(i&Tt||!s)?e|he:n||s?i&_t?e|re:e&oe?e|ae:oe:32}}),h($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:jt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Pt&&e.push(ne),t&Ot&&e.push(ie),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,a=t.deltaY;return s&e.direction||(e.direction&Pt?(s=0===o?Et:0>o?Ht:Mt,i=o!=this.pX,n=Math.abs(t.deltaX)):(s=0===a?Et:0>a?At:It,i=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&oe||!(this.state&oe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),h(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oe)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),h(tt,q,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(_t|Tt)&&!o)this.reset();else if(t.eventType&Dt)this.reset(),this._timer=s(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&_t)return le;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&_t?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),h(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oe)}}),h(it,Z,{defaults:{
event:"swipe",threshold:10,velocity:.65,direction:Pt|Ot,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Pt|Ot)?e=t.velocity:i&Pt?e=t.velocityX:i&Ot&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&ut(e)>this.options.velocity&&t.eventType&_t},emit:function(t){var e=U(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(nt,q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Dt&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=_t)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||O(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=le,this.tryEmit()},e.interval,this),oe):le}return 32},failTimeout:function(){return this._timer=s(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),st.VERSION="2.0.4",st.defaults={domEvents:!1,touchAction:$t,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[J,{enable:!1},["rotate"]],[it,{direction:Pt}],[$,{direction:Pt},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var de=1,ue=2;ot.prototype={set:function(t){return r(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&le)&&(s=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(oe|ae|re)&&(s=e.curRecognizer=i),o++}},get:function(t){if(t instanceof q)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return a(v(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return a(v(t),function(t){e?i[t].splice(y(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&rt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&at(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},r(st,{INPUT_START:Dt,INPUT_MOVE:St,INPUT_END:_t,INPUT_CANCEL:Tt,STATE_POSSIBLE:se,STATE_BEGAN:oe,STATE_CHANGED:ae,STATE_ENDED:re,STATE_RECOGNIZED:le,STATE_CANCELLED:he,STATE_FAILED:32,DIRECTION_NONE:Et,DIRECTION_LEFT:Ht,DIRECTION_RIGHT:Mt,DIRECTION_UP:At,DIRECTION_DOWN:It,DIRECTION_HORIZONTAL:Pt,DIRECTION_VERTICAL:Ot,DIRECTION_ALL:jt,Manager:ot,Input:D,TouchAction:K,TouchInput:B,MouseInput:L,PointerEventInput:N,TouchMouseInput:Q,SingleTouchInput:F,Recognizer:q,AttrRecognizer:Z,Tap:nt,Pan:$,Swipe:it,Pinch:J,Rotate:et,Press:tt,on:p,off:f,each:a,merge:l,extend:r,inherit:h,bindFn:c,prefixed:k}),typeof define==ct&&define.amd?define(function(){return st}):"undefined"!=typeof module&&module.exports?module.exports=st:t[i]=st}(window,document,"Hammer"),window.matchMedia=window.matchMedia||function(t,e){var i,n=t.documentElement,s=n.firstElementChild||n.firstChild,o=t.createElement("body"),a=t.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",o.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(o,s),i=42==a.offsetWidth,n.removeChild(o),{matches:i,media:t}}}(document),function(t){t.picturefill=function(){for(var e=t.document.getElementsByTagName("span"),i=0,n=e.length;i<n;i++)if(null!==e[i].getAttribute("data-picture")){for(var s=e[i].getElementsByTagName("span"),o=[],a=0,r=s.length;a<r;a++){var l=s[a].getAttribute("data-media");(!l||t.matchMedia&&t.matchMedia(l).matches)&&o.push(s[a])}var h=e[i].getElementsByTagName("img")[0];if(o.length){var c=o.pop();h&&"NOSCRIPT"!==h.parentNode.nodeName||(h=t.document.createElement("img"),h.alt=e[i].getAttribute("data-alt")),c.getAttribute("data-width")?h.setAttribute("width",c.getAttribute("data-width")):h.removeAttribute("width"),c.getAttribute("data-height")?h.setAttribute("height",c.getAttribute("data-height")):h.removeAttribute("height"),h.src=c.getAttribute("data-src"),c.appendChild(h)}else h&&h.parentNode.removeChild(h)}},t.addEventListener?(t.addEventListener("resize",t.picturefill,!1),t.addEventListener("DOMContentLoaded",function(){t.picturefill(),t.removeEventListener("load",t.picturefill,!1)},!1),t.addEventListener("load",t.picturefill,!1)):t.attachEvent&&t.attachEvent("onload",t.picturefill)}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,n){var s,o,a,r=e.nodeName.toLowerCase();return"area"===r?(s=e.parentNode,o=s.name,!(!e.href||!o||"map"!==s.nodeName.toLowerCase())&&(!!(a=t("img[usemap='#"+o+"']")[0])&&i(a))):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",a)}function a(){t.datepicker._isDisabledDatepicker(l.inline?l.dpDiv.parent()[0]:l.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function r(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),s=isNaN(n);return(s||n>=0)&&e(i,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,s){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,s)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,s=t(this[0]);s.length&&s[0]!==document;){if(("absolute"===(i=s.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(s.css("zIndex"),10),!isNaN(n)&&0!==n))return n;s=s.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;o.length>s;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}},t.extend(t.ui,{datepicker:{version:"1.11.4"}});var l;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,o;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),s),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):s&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:s,title:s}):s)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;t.length>s;s++)t[s].length>i&&(i=t[s].length,n=s);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,o){var a,l,h,c,d,u=this._dialogInst;return u||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),u=this._dialogInst=this._newInst(this._dialogInput,!1),u.settings={},t.data(this._dialogInput[0],"datepicker",u)),r(u.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(u,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),l===s&&(l=null))},_enableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var s,o,a,l,h=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=n),void(h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),a=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),r(h.settings,s),null!==a&&void 0!==s.dateFormat&&void 0===s.minDate&&(h.settings.minDate=this._formatDate(h,a)),null!==l&&void 0!==s.dateFormat&&void 0===s.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),s[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,s[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);return t.datepicker._get(s,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{(i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,o,a,l,h,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),!1!==(o=s?s.apply(e,[e,i]):{})&&(r(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),c):i.dpDiv[h||"show"](h?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,l=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),s=n[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&a.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),s=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,s):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(e,i,n,s){var o,a=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?""+i:i+""))return null;var s,o,a,r,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,u=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,w=function(t){var i=e.length>s+1&&e.charAt(s+1)===t;return i&&s++,i},k=function(t){var e=w(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?n:1,o=RegExp("^\\d{"+s+","+n+"}"),a=i.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},C=function(e,n,s){var o=-1,a=t.map(w(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(o=e[0],l+=n.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;e.length>s;s++)if(b)"'"!==e.charAt(s)||w("'")?x():b=!1;else switch(e.charAt(s)){case"d":v=k("d");break;case"D":C("D",d,u);break;case"o":y=k("o");break;case"m":g=k("m");break;case"M":g=C("M",p,f);break;case"y":m=k("y");break;case"@":r=new Date(k("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((k("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":w("'")?x():b=!0;break;default:x()}if(i.length>l&&(a=i.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;!((o=this._getDaysInMonth(m,g-1))>=v);)g++,v-=o;if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},d="",u=!1;if(e)for(n=0;t.length>n;n++)if(u)"'"!==t.charAt(n)||l("'")?d+=t.charAt(n):u=!1;else switch(t.charAt(n)){case"d":d+=h("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),s,o);break;case"o":
d+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=h("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),a,r);break;case"y":d+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":u=!0;break;default:d+=t.charAt(n)}return d},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),o=s,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||s}catch(t){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),o=n.getMonth(),a=n.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(i);l;){switch(l[2]||"d"){case"d":case"D":a+=parseInt(l[1],10);break;case"w":case"W":a+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(l[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,o))}l=r.exec(i)}return new Date(s,o,a)},a=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),s===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,o,a,r,l,h,c,d,u,p,f,m,g,v,y,b,w,k,C,x,D,S,_,T,E,H,M,A,I,P,O,j,R,z,L,N,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),B=this._get(t,"isRTL"),Y=this._get(t,"showButtonPanel"),Q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),U=1!==V[0]||1!==V[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),$=this._getMinMaxDate(t,"max"),J=t.drawMonth-q,tt=t.drawYear;if(0>J&&(J+=12,tt--),$)for(e=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-V[0]*V[1]+1,$.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)0>--J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":Q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=K?this.formatDate(s,this._daylightSavingAdjust(new Date(tt,J+X,1)),this._getFormatConfig(t)):s,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":Q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:W,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),u=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",C=0;V[0]>C;C++){for(x="",this.maxRows=4,D=0;V[1]>D;D++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),_=" ui-corner-all",T="",U){if(T+="<div class='ui-datepicker-group",V[1]>1)switch(D){case 0:T+=" ui-datepicker-group-first",_=" ui-corner-"+(B?"right":"left");break;case V[1]-1:T+=" ui-datepicker-group-last",_=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",_=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+_+"'>"+(/all|left/.test(_)&&0===C?B?o:n:"")+(/all|right/.test(_)&&0===C?B?n:o:"")+this._generateMonthYearHeader(t,J,tt,Z,$,C>0||D>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;7>k;k++)H=(k+c)%7,E+="<th scope='col'"+((k+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[H]+"'>"+p[H]+"</span></th>";for(T+=E+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,J)-c+7)%7,I=Math.ceil((A+M)/7),P=U&&this.maxRows>I?this.maxRows:I,this.maxRows=P,O=this._daylightSavingAdjust(new Date(tt,J,1-A)),j=0;P>j;j++){for(T+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",k=0;7>k;k++)z=g?g.apply(t.input?t.input[0]:null,[O]):[!0,""],L=O.getMonth()!==J,N=L&&!y||!z[0]||Z&&Z>O||$&&O>$,R+="<td class='"+((k+c+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(O.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===O.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+z[1]+(O.getTime()===G.getTime()?" "+this._currentClass:"")+(O.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===W.getTime()?" ui-state-highlight":"")+(O.getTime()===G.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);T+=R+"</tr>"}J++,J>11&&(J=0,tt++),T+="</tbody></table>"+(U?"</div>"+(V[0]>0&&D===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}w+=x}return w+=h,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,n,s,o,a,r){var l,h,c,d,u,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=s&&s.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!h||s.getMonth()>=c)&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(e)?u:e},f=p(d[0]),m=Math.max(f,p(d[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!s||e.getTime()>=s.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4",t.datepicker}),jQuery(document).ready(function($){var t=new LazyLoad({threshold:500,throttle:30,show_while_loading:!1})}),jQuery(document).ready(function($){var t=new Flickity(".section--header-slider",{bgLazyLoad:!0,cellAlign:"left",adaptiveHeight:!0,prevNextButtons:!1,hash:!0,pageDots:!1}),e=new Flickity(".partnerslide",{cellAlign:"left",bgLazyLoad:!0,adaptiveHeight:!1,prevNextButtons:!1,hash:!0,pageDots:!1});$(".event--slide-nav").on("click touchstart",function(t){$(this).hasClass("active")?$(this).toggleClass("active"):($(".event--slide-nav.active").removeClass("active"),$(this).addClass("active"))})});