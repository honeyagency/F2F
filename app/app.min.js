var $=jQuery;function initCustomForms(){jcf.setOptions("Select",{wrapNative:!1}),jcf.replaceAll()}function initPopups(){jQuery(".visual-block").contentPopup({mode:"click",btnOpen:".close",hideOnClickLink:!1,hideOnClickOutside:!1})}function initMobileDrop(){var t=jQuery("#header .row-holder .row");ResponsiveHelper.addRange({"..499":{on:function(){t.mobileDropdown({items:"div.col",activeClass:"current",drop:".links-drop",btnOpen:".open",btnClose:".btn-back",animStart:function(e){var t=e.container.find(".btn-back"),i=e.container.find(".cancel");if(t.length){var s=function(){var t=e.items.filter("."+e.options.activeClass);return e.hideSlide(t),!1};t.on("click",s)}if(i.length){i.on("click",function(){var t=jQuery("body").data("MobileNav");return t&&t.hide(),s(),!1})}}})},off:function(){t.data("MobileDropdown")&&t.data("MobileDropdown").destroy()}}})}function initDatepicker(){jQuery(".datepicker").each(function(){var i=jQuery(this);i.on("focus",function(){var t=jQuery("#ui-datepicker-div"),e=i.closest(".select-date");t.appendTo(e)}),i.datepicker({showOtherMonths:!0,showOn:"both",buttonImage:"/wp-content/themes/farmtofork/images/calendar.png",buttonImageOnly:!0,buttonText:"Select date"})})}function initOpenClose(){var e=jQuery(".categories-list"),t={hideOnClickOutside:!0,activeClass:"active",opener:".categories-opener",slider:".categories-slide",animSpeed:400,effect:"slide"};ResponsiveHelper.addRange({"..999":{on:function(){e.openClose(t)},off:function(){var t=e.data("OpenClose");t&&t.destroy()}}}),jQuery(".form-box").openClose({activeClass:"active",opener:".filters",slider:".form-holder",animSpeed:400,effect:"slide"})}function initCarouselPartner(){var t,e=jQuery(".partners-slider"),i=e.find("div.slideset"),s={mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500,step:1};ResponsiveHelper.addRange({"..500":{on:function(){i.find(".slide-holder").unwrap(),clearTimeout(t),t=setTimeout(function(){s.slides=".slide-holder",e.scrollGallery(s)},200)},off:function(){clearTimeout(t),t=setTimeout(function(){var t=e.data("ScrollGallery");t&&t.destroy()},200)}},"501..":{on:function(){for(;i.children("div:not(.slide)").length;)i.children("div:not(.slide):lt(2)").wrapAll('<div class="slide">');clearTimeout(t),t=setTimeout(function(){s.slides=".slide",e.scrollGallery(s)},200)},off:function(){clearTimeout(t),t=setTimeout(function(){var t=e.data("ScrollGallery");t&&t.destroy()},200)}}})}function initCarousel(){jQuery(".region-slider").scrollGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!1,switchTime:4e3,animSpeed:500,step:1}),jQuery(".sponsor-slider").scrollGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",maskAutoSize:!0,autoRotation:!0,switchTime:3e3,animSpeed:500})}function initSlideShow(){jQuery(".slideshow").fadeGallery({slides:"section.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",event:"click",useSwipe:!0,autoRotation:!1,autoHeight:!0,switchTime:3e3,animSpeed:500}),jQuery(".feature-slideshow").fadeGallery({slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:"div.pagination",event:"click",autoRotation:!0,autoHeight:!0,switchTime:4e3,animSpeed:500})}function initMobileNav(){jQuery("body").mobileNav({hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".opener",menuDrop:"#header",mobileScroll:!0,onOpen:function(t){var e=t.drop.find(".jcf-scrollable");jcf.refresh(e)},onClose:function(){var t=jQuery("#header .row-holder .row").data("MobileDropdown"),e=t.items.filter("."+t.options.activeClass);t&&t.hideSlide(e)}})}function initFixedScrollBlock(){jQuery("#wrapper").fixedScrollBlock({slideBlock:"#header",positionType:"fixed",fixedOnlyIfFits:!1})}function initAnchors(){new SmoothScroll({anchorLinks:'a[href^="#"].back'})}function initBackgroundResize(){jQuery(".article .img-holder").each(function(){ImageStretcher.add({container:this,image:"img"})})}function initSameHeight(){jQuery(".article").sameHeight({elements:".img-holder, .detail",flexible:!0})}function initCustomHover(){jQuery(".region").touchHover()}function initLightbox(){jQuery('a.lightbox-opener, a[rel*="lightbox"]').fancybox({padding:0,loop:!1,helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.65)"}}},afterLoad:function(t,e){0===t.href.indexOf("#")&&jQuery(t.href).find("a.close").off("click.fb").on("click.fb",function(t){t.preventDefault(),jQuery.fancybox.close()})}})}jQuery(function(){initCustomForms(),initFixedScrollBlock(),initAnchors(),initCarousel(),initCarouselPartner(),initSlideShow(),initMobileNav(),initBackgroundResize(),initSameHeight(),initCustomHover(),initDatepicker(),initOpenClose(),initMobileDrop(),initLightbox(),initPopups(),jQuery("input, textarea").placeholder()}),jQuery(window).load(function(){document.location.hash&&setTimeout(function(){window.scrollTo(window.scrollX,window.scrollY-100)},10),jQuery("#setToday").click(function(){jQuery(".date-from").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","0"),jQuery(".date-to").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","0"),jQuery(".find-event").submit()}),jQuery("#setTomorrow").click(function(){jQuery(".date-from").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","1"),jQuery(".date-to").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate","1"),jQuery(".find-event").submit()}),jQuery("#setWeekend").click(function(){var t=(new Date).getDay();if(5==t)var e="0",i=2;else if(6==t)e="0",i=1;else if(0==t)e="0",i="0";else e=5-t,i=7-t;jQuery(".date-from").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate",e),jQuery(".date-to").datepicker({dateFormat:"yy-mm-dd"}).datepicker("setDate",i),jQuery(".find-event").submit()})}),function(i){function e(t){this.options=i.extend({holder:null,popup:".popup",btnOpen:".open",btnClose:".close",openClass:"popup-active",clickEvent:"click",mode:"click",hideOnClickLink:!0,hideOnClickOutside:!0,delay:50},t),this.options.holder&&(this.holder=i(this.options.holder),this.init())}e.prototype={init:function(){this.findElements(),this.attachEvents()},findElements:function(){this.popup=this.holder.find(this.options.popup),this.btnOpen=this.holder.find(this.options.btnOpen),this.btnClose=this.holder.find(this.options.btnClose)},attachEvents:function(){var e=this;if(this.clickMode=s||e.options.mode===e.options.clickEvent,this.clickMode)this.btnOpen.bind(e.options.clickEvent,function(t){e.holder.hasClass(e.options.openClass)?e.options.hideOnClickLink&&e.hidePopup():e.showPopup(),t.preventDefault()}),this.outsideClickHandler=this.bind(this.outsideClickHandler,this);else{var i,t=function(t){clearTimeout(i),i=setTimeout(function(){t.call(e)},e.options.delay)};this.btnOpen.bind("mouseover",function(){t(e.showPopup)}).bind("mouseout",function(){t(e.hidePopup)}),this.popup.bind("mouseover",function(){t(e.showPopup)}).bind("mouseout",function(){t(e.hidePopup)})}this.btnClose.bind(e.options.clickEvent,function(t){e.hidePopup(),t.preventDefault()})},outsideClickHandler:function(t){var e=i((t.changedTouches?t.changedTouches[0]:t).target);e.closest(this.popup).length||e.closest(this.btnOpen).length||this.hidePopup()},showPopup:function(){this.holder.addClass(this.options.openClass),this.popup.css({display:"block"}),this.clickMode&&this.options.hideOnClickOutside&&!this.outsideHandlerActive&&(this.outsideHandlerActive=!0,i(document).bind("click touchstart",this.outsideClickHandler))},hidePopup:function(){this.holder.removeClass(this.options.openClass),this.popup.css({display:"none"}),this.clickMode&&this.options.hideOnClickOutside&&this.outsideHandlerActive&&(this.outsideHandlerActive=!1,i(document).unbind("click touchstart",this.outsideClickHandler))},bind:function(t,e,i){return function(){return t.apply(e,i?[i]:arguments)}}};var s=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;i.fn.contentPopup=function(t){return this.each(function(){new e(i.extend(t,{holder:this}))})}}(jQuery),function(n){function e(t){this.options=n.extend({items:"li",activeClass:"active",drop:".dropdown",btnOpen:".open",btnClose:".back",extraHeight:0,container:"#header",containerClass:"nav-area-active"},t),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.container=n(this.options.container),this.holder=n(this.options.holder),this.items=this.holder.children(this.options.items),this.drops=this.items.find(this.options.drop),this.btnOpen=this.items.find(this.options.btnOpen),this.btnClose=this.drops.find(this.options.btnClose)},attachEvents:function(){var s=this;this.onShowSlide=function(t){t.preventDefault();var e=n(this).closest(".col"),i=e.find(".links-drop");s.showSlide(e,i)},this.onHideSlide=function(t){t.preventDefault();var e=n(this).closest(s.options.items);s.hideSlide(e)},this.btnOpen.on("click",this.onShowSlide),this.btnClose.on("click",this.onHideSlide)},showSlide:function(t,e){t.addClass(this.options.activeClass),this.container.addClass(this.options.containerClass),this.holder.css({height:e.outerHeight()+this.options.extraHeight}),this.makeCallback("animStart",this)},hideSlide:function(t){t.removeClass(this.options.activeClass),this.container.removeClass(this.options.containerClass),this.holder.css({height:""}),this.makeCallback("animEnd",this)},destroy:function(){this.holder.css({height:""}),this.container.removeClass(this.options.containerClass),this.items.removeClass(this.options.activeClass),this.btnOpen.off("click",this.onShowSlide),this.btnClose.off("click",this.onHideSlide)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}},n.fn.mobileDropdown=function(t){return this.each(function(){jQuery(this).data("MobileDropdown",new e(n.extend(t,{holder:this})))})}}(jQuery),function(o){function e(t){this.options=o.extend({mask:"div.mask",slider:">*",slides:">*",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",stretchSlideToMask:!1,circularRotation:!0,disableWhileAnimating:!1,autoRotation:!1,pauseOnHover:!s,maskAutoSize:!1,switchTime:4e3,animSpeed:600,event:"click",swipeThreshold:15,handleTouch:!0,vertical:!1,useTranslate3D:!1,step:!1},t),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshPosition(),this.refreshState(!0),this.resumeRotation(),this.makeCallback("onInit",this))},findElements:function(){if(this.fullSizeFunction=this.options.vertical?"outerHeight":"outerWidth",this.innerSizeFunction=this.options.vertical?"height":"width",this.slideSizeFunction="outerHeight",this.maskSizeProperty="height",this.animProperty=this.options.vertical?"marginTop":"marginLeft",this.gallery=o(this.options.holder).addClass(this.options.galleryReadyClass),this.mask=this.gallery.find(this.options.mask),this.slider=this.mask.find(this.options.slider),this.slides=this.slider.find(this.options.slides),this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentStep=0,this.stepsCount=0,!1===this.options.step){var t=this.slides.filter("."+this.options.activeClass);t.length&&(this.currentStep=this.slides.index(t))}this.calculateOffsets(),"string"==typeof this.options.generatePagination?(this.pagerLinks=o(),this.buildPagination()):(this.pagerLinks=this.gallery.find(this.options.pagerLinks),this.attachPaginationEvents()),this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber)},attachEvents:function(){var i=this;this.bindHandlers(["onWindowResize"]),o(window).bind("load resize orientationchange",this.onWindowResize),this.btnPrev.length&&(this.prevSlideHandler=function(t){t.preventDefault(),i.prevSlide()},this.btnPrev.bind(this.options.event,this.prevSlideHandler)),this.btnNext.length&&(this.nextSlideHandler=function(t){t.preventDefault(),i.nextSlide()},this.btnNext.bind(this.options.event,this.nextSlideHandler)),this.options.pauseOnHover&&!s&&(this.hoverHandler=function(){i.options.autoRotation&&(i.galleryHover=!0,i.pauseRotation())},this.leaveHandler=function(){i.options.autoRotation&&(i.galleryHover=!1,i.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})),this.btnPlay.length&&(this.btnPlayHandler=function(t){t.preventDefault(),i.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(t){t.preventDefault(),i.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(t){t.preventDefault(),i.gallery.hasClass(i.options.autorotationActiveClass)?i.stopRotation():i.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),s&&this.options.useTranslate3D&&this.slider.css({"-webkit-transform":"translate3d(0px, 0px, 0px)"}),s&&this.options.handleTouch&&window.Hammer&&this.mask.length&&(this.swipeHandler=new Hammer.Manager(this.mask[0]),this.swipeHandler.add(new Hammer.Pan({direction:i.options.vertical?Hammer.DIRECTION_VERTICAL:Hammer.DIRECTION_HORIZONTAL,threshold:i.options.swipeThreshold})),this.swipeHandler.on("panstart",function(){i.galleryAnimating?i.swipeHandler.stop():(i.pauseRotation(),i.originalOffset=parseFloat(i.slider.css(i.animProperty)))}).on("panmove",function(t){var e=i.originalOffset+t[i.options.vertical?"deltaY":"deltaX"];e=Math.max(Math.min(0,e),i.maxOffset),i.slider.css(i.animProperty,e)}).on("panend",function(t){i.resumeRotation(),t.distance>i.options.swipeThreshold?t.offsetDirection===Hammer.DIRECTION_RIGHT||t.offsetDirection===Hammer.DIRECTION_DOWN?i.nextSlide():i.prevSlide():i.switchSlide()}))},onWindowResize:function(){this.galleryAnimating?this.resizeQueue=!0:(this.calculateOffsets(),this.refreshPosition(),this.buildPagination(),this.refreshState(),this.resizeQueue=!1)},refreshPosition:function(){this.currentStep=Math.min(this.currentStep,this.stepsCount-1),this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().css(this.tmpProps)},calculateOffsets:function(){var t,e,i=this;if(this.options.stretchSlideToMask){var s={};s[this.innerSizeFunction]=this.mask[this.innerSizeFunction](),this.slides.css(s)}if(this.maskSize=this.mask[this.innerSizeFunction](),this.sumSize=this.getSumSize(),this.maxOffset=this.maskSize-this.sumSize,this.options.vertical&&this.options.maskAutoSize){this.options.step=1,this.stepsCount=this.slides.length,this.stepOffsets=[0];for(var n=t=0;n<this.slides.length;n++)t-=o(this.slides[n])[this.fullSizeFunction](!0),this.stepOffsets.push(t);this.maxOffset=t}else if("number"==typeof this.options.step&&0<this.options.step)for(this.slideDimensions=[],this.slides.each(o.proxy(function(t,e){i.slideDimensions.push(o(e)[i.fullSizeFunction](!0))},this)),this.stepOffsets=[0],this.stepsCount=1,t=e=0;t>this.maxOffset;)t-=this.getSlideSize(e,e+this.options.step),e+=this.options.step,this.stepOffsets.push(Math.max(t,this.maxOffset)),this.stepsCount++;else for(this.stepSize=this.maskSize,this.stepsCount=1,t=0;t>this.maxOffset;)t-=this.stepSize,this.stepsCount++},getSumSize:function(){var i=0;return this.slides.each(o.proxy(function(t,e){i+=o(e)[this.fullSizeFunction](!0)},this)),this.slider.css(this.innerSizeFunction,i),i},getStepOffset:function(t){return t=t||this.currentStep,"number"==typeof this.options.step?this.stepOffsets[this.currentStep]:Math.min(0,Math.max(-this.currentStep*this.stepSize,this.maxOffset))},getSlideSize:function(t,e){for(var i=0,s=t;s<Math.min(e,this.slideDimensions.length);s++)i+=this.slideDimensions[s];return i},buildPagination:function(){if("string"==typeof this.options.generatePagination&&(this.pagerHolder||(this.pagerHolder=this.gallery.find(this.options.generatePagination)),this.pagerHolder.length&&this.oldStepsCount!=this.stepsCount)){this.oldStepsCount=this.stepsCount,this.pagerHolder.empty(),this.pagerList=o(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)o(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children(),this.attachPaginationEvents()}},attachPaginationEvents:function(){var e=this;this.pagerLinksHandler=function(t){t.preventDefault(),e.numSlide(e.pagerLinks.index(t.currentTarget))},this.pagerLinks.bind(this.options.event,this.pagerLinksHandler)},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(0<this.currentStep?(this.currentStep--,this.switchSlide()):this.options.circularRotation&&(this.currentStep=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.currentStep<this.stepsCount-1?(this.currentStep++,this.switchSlide()):(this.options.circularRotation||!0===t)&&(this.currentStep=0,this.switchSlide()))},numSlide:function(t){this.currentStep!=t&&(this.currentStep=t,this.switchSlide())},switchSlide:function(){var t=this;this.galleryAnimating=!0,this.tmpProps={},this.tmpProps[this.animProperty]=this.getStepOffset(),this.slider.stop().animate(this.tmpProps,{duration:this.options.animSpeed,complete:function(){t.galleryAnimating=!1,t.resizeQueue&&t.onWindowResize(),t.makeCallback("onChange",t),t.autoRotate()}}),this.refreshState(),this.makeCallback("onBeforeChange",this)},refreshState:function(t){1!==this.options.step&&this.stepsCount!==this.slides.length||this.slides.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentStep).addClass(this.options.activeClass),this.curNum.html(this.currentStep+1),this.allNum.html(this.stepsCount),this.options.maskAutoSize&&"number"==typeof this.options.step&&(this.tmpProps={},this.tmpProps[this.maskSizeProperty]=this.slides.eq(Math.min(this.currentStep,this.slides.length-1))[this.slideSizeFunction](!0),this.mask.stop()[t?"css":"animate"](this.tmpProps)),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentStep&&this.btnPrev.addClass(this.options.disabledClass),this.currentStep===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",this.sumSize<=this.maskSize)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime)},bindHandlers:function(t){var s=this;o.each(t,function(t,e){var i=s[e];s[e]=function(){return i.apply(s,arguments)}})},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){o(window).unbind("load resize orientationchange",this.onWindowResize),this.btnPrev.unbind(this.options.event,this.prevSlideHandler),this.btnNext.unbind(this.options.event,this.nextSlideHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.swipeHandler&&this.swipeHandler.destroy();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" ")),this.slider.add(this.slides).removeAttr("style"),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty()}};var s=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;o.fn.scrollGallery=function(t){return this.each(function(){o(this).data("ScrollGallery",new e(o.extend(t,{holder:this})))})}}(jQuery),function(s,i,_,c){var n=_("html"),o=_(s),h=_(i),T=_.fancybox=function(){T.open.apply(this,arguments)},a=navigator.userAgent.match(/msie/i),r=null,l=i.createTouch!==c,d=function(t){return t&&t.hasOwnProperty&&t instanceof _},u=function(t){return t&&"string"===_.type(t)},E=function(t){return u(t)&&0<t.indexOf("%")},H=function(t,e){var i=parseInt(t,10)||0;return e&&E(t)&&(i*=T.getViewport()[e]/100),Math.ceil(i)},M=function(t,e){return H(t,e)+"px"};_.extend(T,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(a?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:_.noop,beforeLoad:_.noop,afterLoad:_.noop,beforeShow:_.noop,afterShow:_.noop,beforeChange:_.noop,beforeClose:_.noop,afterClose:_.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(l,h){if(l&&(_.isPlainObject(h)||(h={}),!1!==T.close(!0)))return _.isArray(l)||(l=d(l)?_(l).get():[l]),_.each(l,function(t,e){var i,s,n,o,a,r={};"object"===_.type(e)&&(e.nodeType&&(e=_(e)),d(e)?(r={href:e.data("fancybox-href")||e.attr("href"),title:e.data("fancybox-title")||e.attr("title"),isDom:!0,element:e},_.metadata&&_.extend(!0,r,e.metadata())):r=e),i=h.href||r.href||(u(e)?e:null),s=h.title!==c?h.title:r.title||"",!(o=(n=h.content||r.content)?"html":h.type||r.type)&&r.isDom&&((o=e.data("fancybox-type"))||(o=(o=e.prop("class").match(/fancybox\.(\w+)/))?o[1]:null)),u(i)&&(o||(T.isImage(i)?o="image":T.isSWF(i)?o="swf":"#"===i.charAt(0)?o="inline":u(e)&&(o="html",n=e)),"ajax"===o&&(i=(a=i.split(/\s+/,2)).shift(),a=a.shift())),n||("inline"===o?i?n=_(u(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):r.isDom&&(n=e):"html"===o?n=i:!o&&!i&&r.isDom&&(o="inline",n=e)),_.extend(r,{href:i,type:o,content:n,title:s,selector:a}),l[t]=r}),T.opts=_.extend(!0,{},T.defaults,h),h.keys!==c&&(T.opts.keys=!!h.keys&&_.extend({},T.defaults.keys,h.keys)),T.group=l,T._start(T.opts.index)},cancel:function(){var t=T.coming;t&&!1!==T.trigger("onCancel")&&(T.hideLoading(),T.ajaxLoad&&T.ajaxLoad.abort(),T.ajaxLoad=null,T.imgPreload&&(T.imgPreload.onload=T.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),T.coming=null,T.current||T._afterZoomOut(t))},close:function(t){T.cancel(),!1!==T.trigger("beforeClose")&&(T.unbindEvents(),T.isActive&&(T.isOpen&&!0!==t?(T.isOpen=T.isOpened=!1,T.isClosing=!0,_(".fancybox-item, .fancybox-nav").remove(),T.wrap.stop(!0,!0).removeClass("fancybox-opened"),T.transitions[T.current.closeMethod]()):(_(".fancybox-wrap").stop(!0).trigger("onReset").remove(),T._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(T.player.timer)},i=function(){e(),T.current&&T.player.isActive&&(T.player.timer=setTimeout(T.next,T.current.playSpeed))},s=function(){e(),h.unbind(".player"),T.player.isActive=!1,T.trigger("onPlayEnd")};!0===t||!T.player.isActive&&!1!==t?T.current&&(T.current.loop||T.current.index<T.group.length-1)&&(T.player.isActive=!0,h.bind({"onCancel.player beforeClose.player":s,"onUpdate.player":i,"beforeLoad.player":e}),i(),T.trigger("onPlayStart")):s()},next:function(t){var e=T.current;e&&(u(t)||(t=e.direction.next),T.jumpto(e.index+1,t,"next"))},prev:function(t){var e=T.current;e&&(u(t)||(t=e.direction.prev),T.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,i){var s=T.current;s&&(t=H(t),T.direction=e||s.direction[t>=s.index?"next":"prev"],T.router=i||"jumpto",s.loop&&(t<0&&(t=s.group.length+t%s.group.length),t%=s.group.length),s.group[t]!==c&&(T.cancel(),T._start(t)))},reposition:function(t,e){var i,s=T.current,n=s?s.wrap:null;n&&(i=T._getPosition(e),t&&"scroll"===t.type?(delete i.position,n.stop(!0,!0).animate(i,200)):(n.css(i),s.pos=_.extend({},s.dim,i)))},update:function(e){var i=e&&e.type,s=!i||"orientationchange"===i;s&&(clearTimeout(r),r=null),T.isOpen&&!r&&(r=setTimeout(function(){var t=T.current;t&&!T.isClosing&&(T.wrap.removeClass("fancybox-tmp"),(s||"load"===i||"resize"===i&&t.autoResize)&&T._setDimension(),"scroll"===i&&t.canShrink||T.reposition(e),T.trigger("onUpdate"),r=null)},s&&!l?0:300))},toggle:function(t){T.isOpen&&(T.current.fitToView="boolean"===_.type(t)?t:!T.current.fitToView,l&&(T.wrap.removeAttr("style").addClass("fancybox-tmp"),T.trigger("onUpdate")),T.update())},hideLoading:function(){h.unbind(".loading"),_("#fancybox-loading").remove()},showLoading:function(){var t,e;T.hideLoading(),t=_('<div id="fancybox-loading"><div></div></div>').click(T.cancel).appendTo("body"),h.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),T.cancel())}),T.defaults.fixed||(e=T.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var t=T.current&&T.current.locked||!1,e={x:o.scrollLeft(),y:o.scrollTop()};return t?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=l&&s.innerWidth?s.innerWidth:o.width(),e.h=l&&s.innerHeight?s.innerHeight:o.height()),e},unbindEvents:function(){T.wrap&&d(T.wrap)&&T.wrap.unbind(".fb"),h.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var e,a=T.current;a&&(o.bind("orientationchange.fb"+(l?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),T.update),(e=a.keys)&&h.bind("keydown.fb",function(i){var s=i.which||i.keyCode,t=i.target||i.srcElement;if(27===s&&T.coming)return!1;!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&(!t||!t.type&&!_(t).is("[contenteditable]"))&&_.each(e,function(t,e){return 1<a.group.length&&e[s]!==c?(T[t](e[s]),i.preventDefault(),!1):-1<_.inArray(s,e)?(T[t](),i.preventDefault(),!1):void 0})}),_.fn.mousewheel&&a.mouseWheel&&T.wrap.bind("mousewheel.fb",function(t,e,i,s){for(var n=_(t.target||null),o=!1;n.length&&!o&&!n.is(".fancybox-skin")&&!n.is(".fancybox-wrap");)o=n[0]&&!(n[0].style.overflow&&"hidden"===n[0].style.overflow)&&(n[0].clientWidth&&n[0].scrollWidth>n[0].clientWidth||n[0].clientHeight&&n[0].scrollHeight>n[0].clientHeight),n=_(n).parent();0!==e&&!o&&1<T.group.length&&!a.canShrink&&(0<s||0<i?T.prev(0<s?"down":"left"):(s<0||i<0)&&T.next(s<0?"up":"right"),t.preventDefault())}))},trigger:function(i,t){var e,s=t||T.coming||T.current;if(s){if(_.isFunction(s[i])&&(e=s[i].apply(s,Array.prototype.slice.call(arguments,1))),!1===e)return!1;s.helpers&&_.each(s.helpers,function(t,e){e&&T.helpers[t]&&_.isFunction(T.helpers[t][i])&&T.helpers[t][i](_.extend(!0,{},T.helpers[t].defaults,e),s)}),h.trigger(i)}},isImage:function(t){return u(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return u(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,s={};if(t=H(t),!(e=T.group[t]||null))return!1;if(e=(s=_.extend(!0,{},T.opts,e)).margin,i=s.padding,"number"===_.type(e)&&(s.margin=[e,e,e,e]),"number"===_.type(i)&&(s.padding=[i,i,i,i]),s.modal&&_.extend(!0,s,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),s.autoSize&&(s.autoWidth=s.autoHeight=!0),"auto"===s.width&&(s.autoWidth=!0),"auto"===s.height&&(s.autoHeight=!0),s.group=T.group,s.index=t,T.coming=s,!1===T.trigger("beforeLoad"))T.coming=null;else{if(i=s.type,e=s.href,!i)return T.coming=null,!(!T.current||!T.router||"jumpto"===T.router)&&(T.current.index=t,T[T.router](T.direction));if(T.isActive=!0,"image"!==i&&"swf"!==i||(s.autoHeight=s.autoWidth=!1,s.scrolling="visible"),"image"===i&&(s.aspectRatio=!0),"iframe"===i&&l&&(s.scrolling="scroll"),s.wrap=_(s.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+s.wrapCSS).appendTo(s.parent||"body"),_.extend(s,{skin:_(".fancybox-skin",s.wrap),outer:_(".fancybox-outer",s.wrap),inner:_(".fancybox-inner",s.wrap)}),_.each(["Top","Right","Bottom","Left"],function(t,e){s.skin.css("padding"+e,M(s.padding[t]))}),T.trigger("onReady"),"inline"===i||"html"===i){if(!s.content||!s.content.length)return T._error("content")}else if(!e)return T._error("href");"image"===i?T._loadImage():"ajax"===i?T._loadAjax():"iframe"===i?T._loadIframe():T._afterLoad()}},_error:function(t){_.extend(T.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:T.coming.tpl.error}),T._afterLoad()},_loadImage:function(){var t=T.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,T.coming.width=this.width/T.opts.pixelRatio,T.coming.height=this.height/T.opts.pixelRatio,T._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,T._error("image")},t.src=T.coming.href,!0!==t.complete&&T.showLoading()},_loadAjax:function(){var i=T.coming;T.showLoading(),T.ajaxLoad=_.ajax(_.extend({},i.ajax,{url:i.href,error:function(t,e){T.coming&&"abort"!==e?T._error("ajax",t):T.hideLoading()},success:function(t,e){"success"===e&&(i.content=t,T._afterLoad())}}))},_loadIframe:function(){var t=T.coming,e=_(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":t.iframe.scrolling).attr("src",t.href);_(t.wrap).bind("onReset",function(){try{_(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(T.showLoading(),e.one("load",function(){_(this).data("ready",1),l||_(this).bind("load.fb",T.update),_(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),T._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||T._afterLoad()},_preloadImages:function(){var t,e,i=T.group,s=T.current,n=i.length,o=s.preload?Math.min(s.preload,n-1):0;for(e=1;e<=o;e+=1)"image"===(t=i[(s.index+e)%n]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var i,t,e,s,n,o=T.coming,a=T.current;if(T.hideLoading(),o&&!1!==T.isActive)if(!1===T.trigger("afterLoad",o,a))o.wrap.stop(!0).trigger("onReset").remove(),T.coming=null;else{switch(a&&(T.trigger("beforeChange",a),a.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),T.unbindEvents(),i=o.content,t=o.type,e=o.scrolling,_.extend(T,{wrap:o.wrap,skin:o.skin,outer:o.outer,inner:o.inner,current:o,previous:a}),s=o.href,t){case"inline":case"ajax":case"html":o.selector?i=_("<div>").html(i).find(o.selector):d(i)&&(i.data("fancybox-placeholder")||i.data("fancybox-placeholder",_('<div class="fancybox-placeholder"></div>').insertAfter(i).hide()),i=i.show().detach(),o.wrap.bind("onReset",function(){_(this).find(i).length&&i.hide().replaceAll(i.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":i=o.tpl.image.replace("{href}",s);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',n="",_.each(o.swf,function(t,e){i+='<param name="'+t+'" value="'+e+'"></param>',n+=" "+t+'="'+e+'"'}),i+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+n+"></embed></object>"}(!d(i)||!i.parent().is(o.inner))&&o.inner.append(i),T.trigger("beforeShow"),o.inner.css("overflow","yes"===e?"scroll":"no"===e?"hidden":e),T._setDimension(),T.reposition(),T.isOpen=!1,T.coming=null,T.bindEvents(),T.isOpened?a.prevMethod&&T.transitions[a.prevMethod]():_(".fancybox-wrap").not(o.wrap).stop(!0).trigger("onReset").remove(),T.transitions[T.isOpened?o.nextMethod:o.openMethod](),T._preloadImages()}},_setDimension:function(){var t,e,i,s,n,o,a,r,l,h=T.getViewport(),c=0,d=!1,u=!1,p=(d=T.wrap,T.skin),f=T.inner,m=T.current,g=(u=m.width,m.height),v=m.minWidth,y=m.minHeight,b=m.maxWidth,w=m.maxHeight,k=m.scrolling,C=m.scrollOutside?m.scrollbarWidth:0,x=m.margin,D=H(x[1]+x[3]),S=H(x[0]+x[2]);if(d.add(p).add(f).width("auto").height("auto").removeClass("fancybox-tmp"),e=D+(x=H(p.outerWidth(!0)-p.width())),i=S+(t=H(p.outerHeight(!0)-p.height())),s=E(u)?(h.w-e)*H(u)/100:u,n=E(g)?(h.h-i)*H(g)/100:g,"iframe"===m.type){if(l=m.content,m.autoHeight&&1===l.data("ready"))try{l[0].contentWindow.document.location&&(f.width(s).height(9999),o=l.contents().find("body"),C&&o.css("overflow-x","hidden"),n=o.outerHeight(!0))}catch(t){}}else(m.autoWidth||m.autoHeight)&&(f.addClass("fancybox-tmp"),m.autoWidth||f.width(s),m.autoHeight||f.height(n),m.autoWidth&&(s=f.width()),m.autoHeight&&(n=f.height()),f.removeClass("fancybox-tmp"));if(u=H(s),g=H(n),r=s/n,v=H(E(v)?H(v,"w")-e:v),b=H(E(b)?H(b,"w")-e:b),y=H(E(y)?H(y,"h")-i:y),o=b,a=w=H(E(w)?H(w,"h")-i:w),m.fitToView&&(b=Math.min(h.w-e,b),w=Math.min(h.h-i,w)),e=h.w-D,S=h.h-S,m.aspectRatio?(b<u&&(g=H((u=b)/r)),w<g&&(u=H((g=w)*r)),u<v&&(g=H((u=v)/r)),g<y&&(u=H((g=y)*r))):(u=Math.max(v,Math.min(u,b)),m.autoHeight&&"iframe"!==m.type&&(f.width(u),g=f.height()),g=Math.max(y,Math.min(g,w))),m.fitToView)if(f.width(u).height(g),d.width(u+x),h=d.width(),D=d.height(),m.aspectRatio)for(;(e<h||S<D)&&v<u&&y<g&&!(19<c++);)g=Math.max(y,Math.min(w,g-10)),(u=H(g*r))<v&&(g=H((u=v)/r)),b<u&&(g=H((u=b)/r)),f.width(u).height(g),d.width(u+x),h=d.width(),D=d.height();else u=Math.max(v,Math.min(u,u-(h-e))),g=Math.max(y,Math.min(g,g-(D-S)));C&&"auto"===k&&g<n&&u+x+C<e&&(u+=C),f.width(u).height(g),d.width(u+x),h=d.width(),D=d.height(),d=(e<h||S<D)&&v<u&&y<g,u=m.aspectRatio?u<o&&g<a&&u<s&&g<n:(u<o||g<a)&&(u<s||g<n),_.extend(m,{dim:{width:M(h),height:M(D)},origWidth:s,origHeight:n,canShrink:d,canExpand:u,wPadding:x,hPadding:t,wrapSpace:D-p.outerHeight(!0),skinSpace:p.height()-g}),!l&&m.autoHeight&&y<g&&g<w&&!u&&f.height("auto")},_getPosition:function(t){var e=T.current,i=T.getViewport(),s=e.margin,n=T.wrap.width()+s[1]+s[3],o=T.wrap.height()+s[0]+s[2];s={position:"absolute",top:s[0],left:s[3]};return e.autoCenter&&e.fixed&&!t&&o<=i.h&&n<=i.w?s.position="fixed":e.locked||(s.top+=i.y,s.left+=i.x),s.top=M(Math.max(s.top,s.top+(i.h-o)*e.topRatio)),s.left=M(Math.max(s.left,s.left+(i.w-n)*e.leftRatio)),s},_afterZoomIn:function(){var e=T.current;e&&(T.isOpen=T.isOpened=!0,T.wrap.css("overflow","visible").addClass("fancybox-opened"),T.update(),(e.closeClick||e.nextClick&&1<T.group.length)&&T.inner.css("cursor","pointer").bind("click.fb",function(t){!_(t.target).is("a")&&!_(t.target).parent().is("a")&&(t.preventDefault(),T[e.closeClick?"close":"next"]())}),e.closeBtn&&_(e.tpl.closeBtn).appendTo(T.skin).bind("click.fb",function(t){t.preventDefault(),T.close()}),e.arrows&&1<T.group.length&&((e.loop||0<e.index)&&_(e.tpl.prev).appendTo(T.outer).bind("click.fb",T.prev),(e.loop||e.index<T.group.length-1)&&_(e.tpl.next).appendTo(T.outer).bind("click.fb",T.next)),T.trigger("afterShow"),e.loop||e.index!==e.group.length-1?T.opts.autoPlay&&!T.player.isActive&&(T.opts.autoPlay=!1,T.play()):T.play(!1))},_afterZoomOut:function(t){t=t||T.current,_(".fancybox-wrap").trigger("onReset").remove(),_.extend(T,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),T.trigger("afterClose",t)}}),T.transitions={getOrigPosition:function(){var t=T.current,e=t.element,i=t.orig,s={},n=50,o=50,a=t.hPadding,r=t.wPadding,l=T.getViewport();return!i&&t.isDom&&e.is(":visible")&&((i=e.find("img:first")).length||(i=e)),d(i)?(s=i.offset(),i.is("img")&&(n=i.outerWidth(),o=i.outerHeight())):(s.top=l.y+(l.h-o)*t.topRatio,s.left=l.x+(l.w-n)*t.leftRatio),("fixed"===T.wrap.css("position")||t.locked)&&(s.top-=l.y,s.left-=l.x),{top:M(s.top-a*t.topRatio),left:M(s.left-r*t.leftRatio),width:M(n+r),height:M(o+a)}},step:function(t,e){var i,s,n=e.prop,o=(s=T.current).wrapSpace,a=s.skinSpace;"width"!==n&&"height"!==n||(i=e.end===e.start?1:(t-e.start)/(e.end-e.start),T.isClosing&&(i=1-i),s=t-(s="width"===n?s.wPadding:s.hPadding),T.skin[n](H("width"===n?s:s-o*i)),T.inner[n](H("width"===n?s:s-o*i-a*i)))},zoomIn:function(){var t=T.current,e=t.pos,i=t.openEffect,s="elastic"===i,n=_.extend({opacity:1},e);delete n.position,s?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),T.wrap.css(e).animate(n,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:s?this.step:null,complete:T._afterZoomIn})},zoomOut:function(){var t=T.current,e=t.closeEffect,i="elastic"===e,s={opacity:.1};i&&(s=this.getOrigPosition(),t.closeOpacity&&(s.opacity=.1)),T.wrap.animate(s,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:i?this.step:null,complete:T._afterZoomOut})},changeIn:function(){var t,e=T.current,i=e.nextEffect,s=e.pos,n={opacity:1},o=T.direction;s.opacity=.1,"elastic"===i&&(t="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(s[t]=M(H(s[t])-200),n[t]="+=200px"):(s[t]=M(H(s[t])+200),n[t]="-=200px")),"none"===i?T._afterZoomIn():T.wrap.css(s).animate(n,{duration:e.nextSpeed,easing:e.nextEasing,complete:T._afterZoomIn})},changeOut:function(){var t=T.previous,e=t.prevEffect,i={opacity:.1},s=T.direction;"elastic"===e&&(i["down"===s||"up"===s?"top":"left"]=("up"===s||"left"===s?"-":"+")+"=200px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){_(this).trigger("onReset").remove()}})}},T.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!l,fixed:!0},overlay:null,fixed:!1,el:_("html"),create:function(t){t=_.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=_('<div class="fancybox-overlay"></div>').appendTo(T.coming?T.coming.parent:t.parent),this.fixed=!1,t.fixed&&T.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=_.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(o.bind("resize.overlay",_.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(_(t.target).hasClass("fancybox-overlay"))return T.isActive?T.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(_(".fancybox-margin").removeClass("fancybox-margin"),t=o.scrollTop(),e=o.scrollLeft(),this.el.removeClass("fancybox-lock"),o.scrollTop(t).scrollLeft(e)),_(".fancybox-overlay").remove().hide(),_.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),a?(t=Math.max(i.documentElement.offsetWidth,i.body.offsetWidth),h.width()>t&&(e=h.width())):h.width()>o.width()&&(e=h.width()),this.overlay.width(e).height(h.height())},onReady:function(t,e){var i=this.overlay;_(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(i||(this.margin=h.height()>o.height()&&_("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var i,s;e.locked&&(!1!==this.margin&&(_("*").filter(function(){return"fixed"===_(this).css("position")&&!_(this).hasClass("fancybox-overlay")&&!_(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=o.scrollTop(),s=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(i).scrollLeft(s)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!T.coming&&this.overlay.fadeOut(t.speedOut,_.proxy(this.close,this))}},T.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e=T.current,i=e.title,s=t.type;if(_.isFunction(i)&&(i=i.call(e.element,e)),u(i)&&""!==_.trim(i)){switch(e=_('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+i+"</div>"),s){case"inside":s=T.skin;break;case"outside":s=T.wrap;break;case"over":s=T.inner;break;default:s=T.skin,e.appendTo("body"),a&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),T.current.margin[2]+=Math.abs(H(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](s)}}},_.fn.fancybox=function(o){var a,r=_(this),l=this.selector||"",t=function(t){var e,i,s=_(this).blur(),n=a;!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey&&!s.is(".fancybox-wrap")&&(e=o.groupAttr||"data-fancybox-group",(i=s.attr(e))||(e="rel",i=s.get(0)[e]),i&&""!==i&&"nofollow"!==i&&(n=(s=(s=l.length?_(l):r).filter("["+e+'="'+i+'"]')).index(this)),o.index=n,!1!==T.open(s,o)&&t.preventDefault())};return a=(o=o||{}).index||0,l&&!1!==o.live?h.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",t):r.unbind("click.fb-start").bind("click.fb-start",t),this.filter("[data-fancybox-start=1]").trigger("click"),this},h.ready(function(){var t,e;if(_.scrollbarWidth===c&&(_.scrollbarWidth=function(){var t=_('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=(e=t.children()).innerWidth()-e.height(99).innerWidth();return t.remove(),e}),_.support.fixedPosition===c){t=_.support;var i=20===(e=_('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===e[0].offsetTop;e.remove(),t.fixedPosition=i}_.extend(T.defaults,{scrollbarWidth:_.scrollbarWidth(),fixed:_.support.fixedPosition,parent:_("body")}),t=_(s).width(),n.addClass("fancybox-lock-test"),e=_(s).width(),n.removeClass("fancybox-lock-test"),_("<style type='text/css'>.fancybox-margin{margin-right:"+(e-t)+"px;}</style>").appendTo("head")})}(window,document,jQuery),function(i){function e(t){this.options=i.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},t),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshState(!0),this.autoRotate(),this.makeCallback("onInit",this))},findElements:function(){if(this.gallery=i(this.options.holder).addClass(this.options.galleryReadyClass),this.slides=this.gallery.find(this.options.slides),this.slidesHolder=this.slides.eq(0).parent(),this.stepsCount=this.slides.length,this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentIndex=0,this.options.disableFadeIE&&!i.support.opacity&&(this.options.animSpeed=0),"string"==typeof this.options.generatePagination){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty(),this.pagerList=i(this.options.pagerList).appendTo(this.pagerHolder);for(var t=0;t<this.stepsCount;t++)i(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(t+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var e=this.slides.filter("."+this.options.activeClass);e.length&&(this.currentIndex=this.slides.index(e)),this.prevIndex=this.currentIndex,this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber),this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var e=this;this.resizeHandler=function(){e.onWindowResize()},i(window).bind("load resize orientationchange",this.resizeHandler),this.btnPrev.length&&(this.btnPrevHandler=function(t){t.preventDefault(),e.prevSlide(),e.options.autorotationStopAfterClick&&e.stopRotation()},this.btnPrev.bind(this.options.event,this.btnPrevHandler)),this.btnNext.length&&(this.btnNextHandler=function(t){t.preventDefault(),e.nextSlide(),e.options.autorotationStopAfterClick&&e.stopRotation()},this.btnNext.bind(this.options.event,this.btnNextHandler)),this.pagerLinks.length&&(this.pagerLinksHandler=function(t){t.preventDefault(),e.numSlide(e.pagerLinks.index(t.currentTarget)),e.options.autorotationStopAfterClick&&e.stopRotation()},this.pagerLinks.bind(e.options.event,this.pagerLinksHandler)),this.btnPlay.length&&(this.btnPlayHandler=function(t){t.preventDefault(),e.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(t){t.preventDefault(),e.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(t){t.preventDefault(),e.gallery.hasClass(e.options.autorotationActiveClass)?e.stopRotation():e.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),this.options.useSwipe&&window.Hammer&&t&&(this.swipeHandler=new Hammer.Manager(this.gallery[0]),this.swipeHandler.add(new Hammer.Swipe({direction:Hammer.DIRECTION_HORIZONTAL,threshold:e.options.swipeThreshold})),this.swipeHandler.on("swipeleft",function(){e.nextSlide()}).on("swiperight",function(){e.prevSlide()})),this.options.pauseOnHover&&(this.hoverHandler=function(){e.options.autoRotation&&(e.galleryHover=!0,e.pauseRotation())},this.leaveHandler=function(){e.options.autoRotation&&(e.galleryHover=!1,e.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler}))},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,0<this.currentIndex?(this.currentIndex--,this.switchSlide()):this.options.circularRotation&&(this.currentIndex=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex<this.stepsCount-1?(this.currentIndex++,this.switchSlide()):(this.options.circularRotation||!0===t)&&(this.currentIndex=0,this.switchSlide()))},numSlide:function(t){this.currentIndex!=t&&(this.prevIndex=this.currentIndex,this.currentIndex=t,this.switchSlide())},switchSlide:function(){var t=this;1<this.slides.length&&(this.galleryAnimating=!0,this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0}),this.switchNext=function(){t.options.animSpeed?t.slides.eq(t.currentIndex).stop().animate({opacity:1},{duration:t.options.animSpeed}):t.slides.eq(t.currentIndex).css({opacity:""}),clearTimeout(this.nextTimer),this.nextTimer=setTimeout(function(){t.slides.eq(t.currentIndex).css({opacity:""}),t.galleryAnimating=!1,t.autoRotate(),t.makeCallback("onChange",t)},t.options.animSpeed)},this.options.switchSimultaneously?t.switchNext():(clearTimeout(this.switchTimer),this.switchTimer=setTimeout(function(){t.switchNext()},this.options.animSpeed)),this.refreshState(),this.makeCallback("onBeforeChange",this))},refreshState:function(t){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.curNum.html(this.currentIndex+1),this.allNum.html(this.stepsCount),this.options.autoHeight&&(t?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed})),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentIndex&&this.btnPrev.addClass(this.options.disabledClass),this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",1===this.stepsCount)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():(this.gallery.addClass(this.options.autorotationActiveClass),this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime))},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler),this.btnNext.unbind(this.options.event,this.btnNextHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),i(window).unbind("load resize orientationchange",this.resizeHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.swipeHandler&&this.swipeHandler.destroy(),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty();var t=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(t.join(" ")),this.slidesHolder.add(this.slides).removeAttr("style")}};var t=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;i.fn.fadeGallery=function(t){return this.each(function(){i(this).data("FadeGallery",new e(i.extend(t,{holder:this})))})}}(jQuery),function(a){function i(t){this.options=a.extend({container:null,hideOnClickOutside:!1,menuActiveClass:"nav-active",menuOpener:".nav-opener",menuDrop:".nav-drop",mobileClass:"touch-device",toggleEvent:"click",outsideClickEvent:"click touchstart pointerdown MSPointerDown",mobileScroll:!1},t),this.initStructure(),this.attachEvents(),this.makeCallback("onInit",this)}i.prototype={initStructure:function(){this.page=a("html"),this.win=a(window),this.body=a("body"),this.container=a(this.options.container),this.opener=this.container.find(this.options.menuOpener),this.drop=this.container.find(this.options.menuDrop),this.scrollTop=0},attachEvents:function(){var i=this;e&&this.container.addClass(this.options.mobileClass),t&&(t(),t=null),this.outsideClickHandler=function(t){if(i.isOpened()){var e=a(t.target);e.closest(i.opener).length||e.closest(i.drop).length||i.hide()}},this.openerClickHandler=function(t){t.preventDefault(),i.toggle()},this.opener.on(this.options.toggleEvent,this.openerClickHandler)},isOpened:function(){return this.container.hasClass(this.options.menuActiveClass)},show:function(){this.container.addClass(this.options.menuActiveClass),this.options.hideOnClickOutside&&this.page.on(this.options.outsideClickEvent,this.outsideClickHandler),this.options.mobileScroll&&(this.scrollTop=this.win.scrollTop(),this.body.css({top:-this.win.scrollTop()})),this.makeCallback("onOpen",this)},hide:function(){this.container.removeClass(this.options.menuActiveClass),this.options.hideOnClickOutside&&this.page.off(this.options.outsideClickEvent,this.outsideClickHandler),this.options.mobileScroll&&(this.body.css({top:""}),this.win.scrollTop(this.scrollTop)),this.makeCallback("onClose",this)},toggle:function(){this.isOpened()?this.hide():this.show()},destroy:function(){this.container.removeClass(this.options.menuActiveClass),this.opener.off(this.options.toggleEvent,this.clickHandler),this.page.off(this.options.outsideClickEvent,this.outsideClickHandler)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}};var t=function(){var t,e,i=a(window),s=a("html"),n="resize-active",o=function(){t=!1,s.removeClass(n)};i.on("resize orientationchange",function(){t||(t=!0,s.addClass(n)),clearTimeout(e),e=setTimeout(o,500)})},e=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;a.fn.mobileNav=function(e){return this.each(function(){var t=new i(a.extend({},e,{container:this}));a.data(this,"MobileNav",t)})}}(jQuery),function(i,t){"use strict";var e="ontouchstart"in t||t.DocumentTouch&&document instanceof DocumentTouch||/Windows Phone/.test(navigator.userAgent);function s(t){this.options=i.extend({fixedActiveClass:"fixed-position",slideBlock:"[data-scroll-block]",positionType:"auto",fixedOnlyIfFits:!0,container:null,animDelay:100,animSpeed:200,extraBottom:0,extraTop:0},t),this.initStructure(),this.attachEvents()}s.prototype={initStructure:function(){this.win=i(t),this.container=i(this.options.container),this.slideBlock=this.container.find(this.options.slideBlock),"auto"===this.options.positionType&&(this.options.positionType=e?"absolute":"fixed")},attachEvents:function(){var t=this;this.onResize=function(){t.resizeHandler()},this.onScroll=function(){t.scrollHandler()},this.win.on({resize:this.onResize,scroll:this.onScroll}),this.resizeHandler()},recalculateOffsets:function(){var t=this.slideBlock.offset(),e=this.slideBlock.position(),i=this.container.offset();this.win.height();this.data={windowHeight:this.win.height(),windowWidth:this.win.width(),blockPositionLeft:e.left,blockPositionTop:e.top,blockOffsetLeft:t.left,blockOffsetTop:t.top,blockHeight:this.slideBlock.innerHeight(),holderOffsetLeft:i.left,holderOffsetTop:i.top,holderHeight:this.container.innerHeight()}},isVisible:function(){return this.slideBlock.prop("offsetHeight")},fitsInViewport:function(){return!this.options.fixedOnlyIfFits||!this.data||this.data.blockHeight+this.options.extraTop<=this.data.windowHeight},resizeHandler:function(){this.isVisible()&&(s.stickyMethods[this.options.positionType].onResize.apply(this,arguments),this.scrollHandler())},scrollHandler:function(){if(this.isVisible()){if(!this.data)return void this.resizeHandler();this.currentScrollTop=this.win.scrollTop(),this.currentScrollLeft=this.win.scrollLeft(),s.stickyMethods[this.options.positionType].onScroll.apply(this,arguments)}},refresh:function(){this.data&&(this.data.holderHeight=this.container.innerHeight(),this.data.blockHeight=this.slideBlock.innerHeight(),this.scrollHandler())},destroy:function(){this.slideBlock.removeAttr("style").removeClass(this.options.fixedActiveClass),this.win.off({resize:this.onResize,scroll:this.onScroll})}},s.stickyMethods={fixed:{onResize:function(){this.slideBlock.removeAttr("style"),this.recalculateOffsets()},onScroll:function(){this.fitsInViewport()&&this.currentScrollTop+this.options.extraTop>this.data.blockOffsetTop?(this.currentScrollTop+this.options.extraTop+this.data.blockHeight>this.data.holderOffsetTop+this.data.holderHeight-this.options.extraBottom?this.slideBlock.css({position:"absolute",top:this.data.blockPositionTop+this.data.holderHeight-this.data.blockHeight-this.options.extraBottom-(this.data.blockOffsetTop-this.data.holderOffsetTop),left:this.data.blockPositionLeft}):this.slideBlock.css({position:"fixed",top:this.options.extraTop,left:this.data.blockOffsetLeft-this.currentScrollLeft}),this.slideBlock.addClass(this.options.fixedActiveClass)):this.slideBlock.removeClass(this.options.fixedActiveClass).removeAttr("style")}},absolute:{onResize:function(){this.slideBlock.removeAttr("style"),this.recalculateOffsets(),this.slideBlock.css({position:"absolute",top:this.data.blockPositionTop,left:this.data.blockPositionLeft}),this.slideBlock.addClass(this.options.fixedActiveClass)},onScroll:function(){var o=this;clearTimeout(this.animTimer),this.animTimer=setTimeout(function(){var t=o.currentScrollTop+o.options.extraTop,e=o.data.blockPositionTop-(o.data.blockOffsetTop-o.data.holderOffsetTop),i=o.data.holderHeight-o.data.blockHeight-o.options.extraBottom,s=e+Math.min(t-o.data.holderOffsetTop,i),n=o.fitsInViewport()&&t>o.data.blockOffsetTop?s:o.data.blockPositionTop;o.slideBlock.stop().animate({top:n},o.options.animSpeed)},this.options.animDelay)}}},i.fn.fixedScrollBlock=function(e){return this.each(function(){var t=new s(i.extend({},e,{container:this}));i.data(this,"FixedScrollBlock",t)})},t.FixedScrollBlock=s}(jQuery,this),function(c,t){var n,o,a,i=c(window),r="onwheel"in document||9<=document.documentMode?"wheel":"mousewheel DOMMouseScroll";function s(t,e,i){var s;document.body&&(e="number"==typeof e?{duration:e}:e||{},n=n||c("html, body"),s=e.container||n,"number"==typeof t&&(t={top:t}),o&&a&&o.off(r,a),e.wheelBehavior&&"none"!==e.wheelBehavior&&(a=function(t){"stop"===e.wheelBehavior?(s.off(r,a),s.stop()):"ignore"===e.wheelBehavior&&t.preventDefault()},o=s.on(r,a)),s.stop().animate({scrollLeft:t.left,scrollTop:t.top},e.duration,function(){a&&s.off(r,a),c.isFunction(i)&&i()}))}function e(t){this.options=c.extend({anchorLinks:'a[href^="#"]',container:null,extraOffset:null,activeClasses:null,easing:"swing",animMode:"duration",animDuration:800,animSpeed:1500,anchorActiveClass:"anchor-active",sectionActiveClass:"section-active",wheelBehavior:"stop",useNativeAnchorScrolling:!1},t),this.init()}e.prototype={init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.container=this.options.container?c(this.options.container):c("html,body"),this.scrollContainer=this.options.container?this.container:i,this.anchorLinks=c(this.options.anchorLinks)},getAnchorTarget:function(t){var e=c(t).attr("href");return c(1<e.length?e:"html")},getTargetOffset:function(t){var e=t.offset().top;return this.options.container&&(e-=this.container.offset().top-this.container.prop("scrollTop")),"number"==typeof this.options.extraOffset?e-=this.options.extraOffset:"function"==typeof this.options.extraOffset&&(e-=this.options.extraOffset(t)),{top:e}},attachEvents:function(){var e=this;this.options.activeClasses&&(this.anchorData=[],this.anchorLinks.each(function(){var i,t=jQuery(this),s=e.getAnchorTarget(t);c.each(e.anchorData,function(t,e){e.block[0]===s[0]&&(i=e)}),i?i.link=i.link.add(t):e.anchorData.push({link:t,block:s})}),this.resizeHandler=function(){e.recalculateOffsets()},this.scrollHandler=function(){e.refreshActiveClass()},this.recalculateOffsets(),this.scrollContainer.on("scroll",this.scrollHandler),i.on("resize",this.resizeHandler)),this.clickHandler=function(t){e.onClick(t)},this.options.useNativeAnchorScrolling||this.anchorLinks.on("click",this.clickHandler)},recalculateOffsets:function(){var i=this;c.each(this.anchorData,function(t,e){e.offset=i.getTargetOffset(e.block),e.height=e.block.outerHeight()}),this.refreshActiveClass()},refreshActiveClass:function(){var n=this,o=!1,a=this.container.prop("scrollHeight"),r=this.scrollContainer.height(),l=this.options.container?this.container.prop("scrollTop"):i.scrollTop();function h(t,e,i){t.toggleClass(n.options.anchorActiveClass,i),e.toggleClass(n.options.sectionActiveClass,i)}this.options.customScrollHandler?this.options.customScrollHandler.call(this,l,this.anchorData):(this.anchorData.sort(function(t,e){return t.offset.top-e.offset.top}),c.each(this.anchorData,function(t){var e=n.anchorData.length-t-1,i=n.anchorData[e],s="parent"===n.options.activeClasses?i.link.parent():i.link;a-r<=l?e===n.anchorData.length-1?h(s,i.block,!0):h(s,i.block,!1):!o&&(l>=i.offset.top-1||0===e)?(o=!0,h(s,i.block,!0)):h(s,i.block,!1)}))},calculateScrollDuration:function(t){return"speed"===this.options.animMode?Math.abs(this.scrollContainer.scrollTop()-t.top)/this.options.animSpeed*1e3:this.options.animDuration},onClick:function(t){var e=this.getAnchorTarget(t.currentTarget),i=this.getTargetOffset(e);t.preventDefault(),s(i,{container:this.container,wheelBehavior:this.options.wheelBehavior,duration:this.calculateScrollDuration(i)})},destroy:function(){this.options.activeClasses&&(i.off("resize",this.resizeHandler),this.scrollContainer.off("scroll",this.scrollHandler)),this.anchorLinks.off("click",this.clickHandler)}},c.extend(e,{scrollTo:function(t,e,i){s(t,e,i)}}),t.SmoothScroll=e}(jQuery,this),function(l){l.fn.sameHeight=function(t){var a=l.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",elements:">*",flexible:!1,multiLine:!1,useMinHeight:!1,biggestHeight:!1},t);return this.each(function(){var t,e,i=l(this),s=i.find(a.elements).not("."+a.skipClass);if(s.length){o();var n=function(){e||(e=!0,o(),clearTimeout(t),t=setTimeout(function(){o(),setTimeout(function(){e=!1},10)},100))};a.flexible&&l(window).bind("resize orientationchange fontresize",n),l(window).bind("load",n)}function o(){s.css(a.useMinHeight&&h?"minHeight":"height",""),a.multiLine?function(t,i){var s,n=l(),o=0,a=t.eq(0).offset().top;t.each(function(t){var e=l(this);e.offset().top===a?n=n.add(this):(s=r(n),o=Math.max(o,c(n,s,i)),a=(n=e).offset().top)}),n.length&&(s=r(n),o=Math.max(o,c(n,s,i)));i.biggestHeight&&t.css(i.useMinHeight&&h?"minHeight":"height",o)}(s,a):c(s,i,a)}})};var h=void 0!==document.documentElement.style.maxHeight;function r(t){var e=0;return t.each(function(){e=Math.max(e,l(this).outerHeight())}),e}function c(t,n,o){var a,r="number"==typeof n?n:n.height();return t.removeClass(o.leftEdgeClass).removeClass(o.rightEdgeClass).each(function(t){var e=l(this),i=0,s="border-box"===e.css("boxSizing")||"border-box"===e.css("-moz-box-sizing")||"border-box"===e.css("-webkit-box-sizing");"number"!=typeof n&&e.parents().each(function(){var t=l(this);if(n.is(this))return!1;i+=t.outerHeight()-t.height()}),a=r-i,0<(a-=s?0:e.outerHeight()-e.height())&&e.css(o.useMinHeight&&h?"minHeight":"height",a)}),t.filter(":first").addClass(o.leftEdgeClass),t.filter(":last").addClass(o.rightEdgeClass),a}}(jQuery),function(o){var i,s,a,t="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e=/Windows Phone/.test(navigator.userAgent),r=(t?"touchstart":e&&navigator.pointerEnabled&&"pointerdown")||e&&navigator.msPointerEnabled&&"MSPointerDown"||"mouseenter",n=(t?"touchend":e&&navigator.pointerEnabled&&"pointerup")||e&&navigator.msPointerEnabled&&"MSPointerUp"||"mouseleave";t||e?(a=function(t){t.preventDefault()},i=function(t){var i=t.data,s=o(this),n=function(t){var e=o(t.target);e.is(s)||e.closest(s).length||(s.removeClass(i.hoverClass),s.off("click",a),i.onLeave&&i.onLeave(s),o(document).off(r,n))};s.hasClass(i.hoverClass)||(s.addClass(i.hoverClass),s.one("click",a),o(document).on(r,n),i.onHover&&i.onHover(s))}):(i=function(t){var e=t.data,i=o(this);i.addClass(e.hoverClass),o(e.context).on(n,e.selector,e,s),e.onHover&&e.onHover(i)},s=function(t){var e=t.data,i=o(this);i.removeClass(e.hoverClass),o(e.context).off(n,e.selector,s),e.onLeave&&e.onLeave(i)}),o.fn.touchHover=function(t){var e=o.extend({context:this.context,selector:this.selector,hoverClass:"hover"},t);return o(this.context).on(r,this.selector,e,i),this}}(jQuery),jQuery.onFontResize=function(s){return s(function(){var t="font-resize-frame-"+Math.floor(1e3*Math.random()),e=s("<iframe>").attr("id",t).addClass("font-resize-helper");if(e.css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-9999px",left:"-9999px"}).appendTo("body"),window.attachEvent&&!window.addEventListener)e.bind("resize",function(){s.onFontResize.trigger(e[0].offsetWidth/100)});else{var i=e[0].contentWindow.document;i.open(),i.write('<script>window.onload = function(){var em = parent.jQuery("#'+t+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};<\/script>'),i.close()}jQuery.onFontResize.initialSize=e[0].offsetWidth/100}),{trigger:function(t){s(window).trigger("fontresize",[t])}}}(jQuery),function(t,e,a){var i,s,n="[object OperaMini]"==Object.prototype.toString.call(t.operamini),o="placeholder"in e.createElement("input")&&!n,r="placeholder"in e.createElement("textarea")&&!n,l=a.fn,h=a.valHooks,c=a.propHooks;function d(t,e){var i=this,s=a(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){if(s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id")),!0===t)return s[0].value=e;s.focus()}else i.value="",s.removeClass("placeholder"),i==p()&&i.select()}function u(){var e,i,s,n,t=a(this),o=this.id;if(""==this.value){if("password"==this.type){if(!t.data("placeholder-textinput")){try{e=t.clone().attr({type:"text"})}catch(t){e=a("<input>").attr(a.extend((i=this,s={},n=/^jQuery\d+$/,a.each(i.attributes,function(t,e){e.specified&&!n.test(e.name)&&(s[e.name]=e.value)}),s),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":t,"placeholder-id":o}).bind("focus.placeholder",d),t.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}t=t.removeAttr("id").hide().prev().attr("id",o).show()}t.addClass("placeholder"),t[0].value=t.attr("placeholder")}else t.removeClass("placeholder")}function p(){try{return e.activeElement}catch(t){}}o&&r?(s=l.placeholder=function(){return this}).input=s.textarea=!0:((s=l.placeholder=function(){return this.filter((o?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":d,"blur.placeholder":u}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=o,s.textarea=r,i={get:function(t){var e=a(t),i=e.data("placeholder-password");return i?i[0].value:e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,e){var i=a(t),s=i.data("placeholder-password");return s?s[0].value=e:i.data("placeholder-enabled")?(""==e?(t.value=e,t!=p()&&u.call(t)):i.hasClass("placeholder")&&d.call(t,!0,e)||(t.value=e),i):t.value=e}},o||(h.input=i,c.value=i),r||(h.textarea=i,c.value=i),a(function(){a(e).delegate("form","submit.placeholder",function(){var t=a(".placeholder",this).each(d);setTimeout(function(){t.each(u)},10)})}),a(t).bind("beforeunload.placeholder",function(){a(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.jcf=e(jQuery)}(this,function(a){"use strict";var n=[],r={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},t="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,e=/Windows Phone/.test(navigator.userAgent);r.isMobileDevice=!(!t&&!e);!function(){var t,e=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n={};t=e?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},a.each(t,function(i,t){a.each(t.split(" "),function(t,e){n[e]=i})}),a.each(t,function(t,e){e=e.split(" "),a.event.special["jcf-"+t]={setup:function(){var i=this;a.each(e,function(t,e){i.addEventListener?i.addEventListener(e,s,!1):i["on"+e]=s})},teardown:function(){var i=this;a.each(e,function(t,e){i.addEventListener?i.removeEventListener(e,s,!1):i["on"+e]=null})}}});var o=null,s=function(t){var e=t||window.event,i=null,s=n[e.type];if((t=a.event.fix(e)).type="jcf-"+s,e.pointerType)switch(e.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=e.pointerType}else t.pointerType=e.type.substr(0,5);return t.pageX||t.pageY||(i=e.changedTouches?e.changedTouches[0]:e,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===e.type&&(o={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&o&&function(t){var e=Math.abs(t.pageX-o.x),i=Math.abs(t.pageY-o.y);if(e<=25&&i<=25)return!0}(t)?void 0:(a.event.dispatch||a.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||9<=document.documentMode?"wheel":"mousewheel DOMMouseScroll").split(" "),i="jcf-mousewheel";a.event.special[i]={setup:function(){var i=this;a.each(t,function(t,e){i.addEventListener?i.addEventListener(e,s,!1):i["on"+e]=s})},teardown:function(){var i=this;a.each(t,function(t,e){i.addEventListener?i.removeEventListener(e,s,!1):i["on"+e]=null})}};var s=function(t){var e=t||window.event;if((t=a.event.fix(e)).type=i,"detail"in e&&(t.deltaY=-e.detail),"wheelDelta"in e&&(t.deltaY=-e.wheelDelta),"wheelDeltaY"in e&&(t.deltaY=-e.wheelDeltaY),"wheelDeltaX"in e&&(t.deltaX=-e.wheelDeltaX),"deltaY"in e&&(t.deltaY=e.deltaY),"deltaX"in e&&(t.deltaX=e.deltaX),t.delta=t.deltaY||t.deltaX,1===e.deltaMode){t.delta*=16,t.deltaY*=16,t.deltaX*=16}return(a.event.dispatch||a.event.handle).call(this,t)}}();var o={fireNativeEvent:function(t,e){a(t).each(function(){var t;this.dispatchEvent?((t=document.createEvent("HTMLEvents")).initEvent(e,!0,!0),this.dispatchEvent(t)):document.createEventObject&&((t=document.createEventObject()).target=this).fireEvent("on"+e,t)})},bindHandlers:function(){var i=this;a.each(i,function(t,e){0===t.indexOf("on")&&a.isFunction(e)&&(i[t]=function(){return e.apply(i,arguments)})})}},l={version:"1.1.2",modules:{},getOptions:function(){return a.extend({},r)},setOptions:function(t,e){1<arguments.length?this.modules[t]&&a.extend(this.modules[t].prototype.options,e):a.extend(r,t)},addModule:function(t){var e=function(t){t.element.data(r.dataKey)||t.element.data(r.dataKey,this),n.push(this),this.options=a.extend({},r,this.options,i(t.element),t),this.bindHandlers(),this.init.apply(this,arguments)},i=function(t){var e=t.data(r.optionsKey),i=t.attr(r.optionsKey);if(e)return e;if(i)try{return a.parseJSON(i)}catch(t){}};e.prototype=t,a.extend(t,o),t.plugins&&a.each(t.plugins,function(t,e){a.extend(e.prototype,o)});var s=e.prototype.destroy;e.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var t=n.length-1;0<=t;t--)if(n[t]===this){n.splice(t,1);break}s&&s.apply(this,arguments)},this.modules[t.name]=e},getInstance:function(t){return a(t).data(r.dataKey)},replace:function(t,s,e){var n,o=this;return r.styleSheetCreated||function(){var t=a("<style>").appendTo("head"),s=t.prop("sheet")||t.prop("styleSheet"),e=function(t,e,i){s.insertRule?s.insertRule(t+"{"+e+"}",i):s.addRule(t,e,i)};e("."+r.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),e("."+r.rtlClass+" ."+r.hiddenClass,"right:-9999px !important; left: auto !important"),e("."+r.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),e("."+r.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var i=a("html"),n=a("body");"rtl"!==i.css("direction")&&"rtl"!==n.css("direction")||i.addClass(r.rtlClass),i.on("reset",function(){setTimeout(function(){l.refreshAll()},0)}),r.styleSheetCreated=!0}(),a(t).each(function(){var t,i=a(this);(n=i.data(r.dataKey))?n.refresh():(s||a.each(o.modules,function(t,e){if(e.prototype.matchElement.call(e.prototype,i))return s=t,!1}),s&&(t=a.extend({element:i},e),n=new o.modules[s](t)))}),n},refresh:function(t){a(t).each(function(){var t=a(this).data(r.dataKey);t&&t.refresh()})},destroy:function(t){a(t).each(function(){var t=a(this).data(r.dataKey);t&&t.destroy()})},replaceAll:function(i){var s=this;a.each(this.modules,function(t,e){a(e.prototype.selector,i).each(function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,t)})})},refreshAll:function(i){if(i)a.each(this.modules,function(t,e){a(e.prototype.selector,i).each(function(){var t=a(this).data(r.dataKey);t&&t.refresh()})});else for(var t=n.length-1;0<=t;t--)n[t].refresh()},destroyAll:function(i){if(i)a.each(this.modules,function(t,e){a(e.prototype.selector,i).each(function(t,e){var i=a(e).data(r.dataKey);i&&i.destroy()})});else for(;n.length;)n[0].destroy()}};return l}),function(a,t){"use strict";function e(t){this.options=a.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},t),this.init()}function i(t){this.options=a.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},t),this.init()}function s(t){this.options=a.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},t),this.init()}jcf.addModule({name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:i,ComboBox:e,SelectList:s},matchElement:function(t){return t.is("select")},init:function(){this.element=a(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new i(this.options):this.instance=new e(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof e||!this.isListBox()&&this.instance instanceof i?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}}),a.extend(e.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=a(t),this.doc=a(document),this.realElement=a(this.options.element),this.fakeElement=a(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=a("<span></span>").appendTo(this.selectTextContainer),n(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?a("body"):this.fakeElement)},attachEvents:function(){var t=this;this.delayedRefresh=function(){setTimeout(function(){t.refresh(),t.list&&t.list.refresh()},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(t){13===t.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(t,e){this.pressedFlag=!1,"mouse"===e.pointerType&&this.realElement.focus()},onSelectAreaPress:function(t){!this.options.fakeDropInBody&&a(t.target).closest(this.dropdown).length||1<t.button||this.realElement.is(":disabled")||(this.selectOpenedByEvent=t.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===t.pointerType?this.realElement.focus():this.onFocus(t)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(t){this.focusedFlag&&"mouse"===t.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(t){var e=a(t.target);e.closest(this.fakeElement).length||e.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(t){this.options.wrapNative||(t?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=a(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),n(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new s({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),a(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var t,e,i,s=this.fakeElement.offset(),n=this.fakeElement.outerWidth(),o=this.fakeElement.outerHeight(),a=this.dropdown.css("width",n).outerHeight(),r=this.win.scrollTop(),l=this.win.height(),h=!1;s.top+o+a>r+l&&s.top-a>r&&(h=!0),this.options.fakeDropInBody&&(i="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&h?(e=s.left,t=s.top-a-i):(e=s.left,t=s.top+o-i),this.dropdown.css({width:n,left:e,top:t})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&h)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var t,e=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[e],s=i?i.getAttribute("data-image"):null,n="";this.realElement.prop("multiple")?(a.each(this.realElement.prop("options"),function(t,e){e.selected&&(n+=(n?", ":"")+e.innerHTML)}),this.selectText.removeAttr("class").html(n)):i?this.currentSelectedText===i.innerHTML&&this.currentSelectedImage===s||(t=o(i.className,this.options.optionClassPrefix),this.selectText.attr("class",t).html(i.innerHTML),s?(this.selectImage||(this.selectImage=a("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",s).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=s):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),a.extend(i.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=a(this.options.element),this.fakeElement=a(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),n(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new s({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&16===t.which||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout(function(){e.refresh()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),a(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(t,e){this.pressedFlag=!0,"mouse"===e.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(t,e){this.pressedFlag=!1,"mouse"===e.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),a.extend(s.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=a(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=a(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList()},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(t){a(this).trigger("press",t),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(t){a(this).trigger("release",t),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(t){var e=parseFloat(t.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(e).addClass(this.options.hoverClass)},onItemPress:function(t){"touch"===t.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(t)},onItemRelease:function(t){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:t.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(t){var i,e=parseFloat(t.currentTarget.getAttribute(this.options.indexAttribute)),s=t.data&&t.data.savedPointerType||t.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),1<t.button||this.realOptions[e].disabled||(this.element.prop("multiple")?t.metaKey||t.ctrlKey||"touch"===s||this.options.multipleSelectWithoutKey?this.realOptions[e].selected=!this.realOptions[e].selected:t.shiftKey?(i=[this.lastClickedIndex,e].sort(function(t,e){return t-e}),this.realOptions.each(function(t,e){e.selected=t>=i[0]&&t<=i[1]})):this.element.prop("selectedIndex",e):this.element.prop("selectedIndex",e),t.shiftKey||(this.lastClickedIndex=e),this.refreshSelectedClass(),"mouse"===s&&this.scrollToActiveOption(),a(this).trigger("select"))},rebuildList:function(){var s=this,t=this.element[0];this.storedSelectHTML=t.innerHTML,this.optionIndex=0,this.list=a(this.createOptionsList(t)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var e=this.options.maxVisibleItems,i=this.element.prop("size");1<i&&!this.element.is("[jcf-size]")&&(e=i);var n=this.fakeOptions.length>e;this.container.toggleClass(this.options.scrollClass,n),n&&(this.listHolder.css({maxHeight:this.getOverflowHeight(e),overflow:"auto"}),this.options.useCustomScroll&&jcf.modules.Scrollable)?jcf.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(t){var e=s.listHolder.scrollTop(),i=s.listHolder.prop("scrollHeight")-s.listHolder.innerHeight();(e<=0&&t.deltaY<0||i<=e&&0<t.deltaY)&&t.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler))},refreshSelectedClass:function(){var t,i=this,e=this.element.prop("multiple"),s=this.element.prop("selectedIndex");e?this.realOptions.each(function(t,e){i.fakeOptions.eq(t).toggleClass(i.options.selectedClass,!!e.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),t=this.fakeOptions.eq(s).addClass(this.options.selectedClass),this.options.useHoverClass&&t.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var t=this.getActiveOptionOffset();this.listHolder.prop("scrollTop",t)},getSelectedIndexRange:function(){var i=-1,s=-1;return this.realOptions.each(function(t,e){e.selected&&(i<0&&(i=t),s=t)}),[i,s]},getChangedSelectedIndex:function(){var t,e=this.element.prop("selectedIndex");return this.element.prop("multiple")?(this.previousRange||(this.previousRange=[e,e]),this.currentRange=this.getSelectedIndexRange(),t=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1],this.previousRange=this.currentRange,t):e},getActiveOptionOffset:function(){var t=this.listHolder.height(),e=this.listHolder.prop("scrollTop"),i=this.getChangedSelectedIndex(),s=this.fakeOptions.eq(i),n=s.offset().top-this.list.offset().top,o=s.innerHeight();return e+t<=n+o?n-t+o:n<e?n:void 0},getOverflowHeight:function(t){var e=this.fakeListItems.eq(t-1),i=this.list.offset().top;return e.offset().top+e.innerHeight()-i},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(t){this.listHolder.scrollTop(t)},createOption:function(t){var e=document.createElement("span");e.className=this.options.optionClass,e.innerHTML=t.innerHTML,e.setAttribute(this.options.indexAttribute,this.optionIndex++);var i,s=t.getAttribute("data-image");return s&&((i=document.createElement("img")).src=s,e.insertBefore(i,e.childNodes[0])),t.disabled&&(e.className+=" "+this.options.disabledClass),t.className&&(e.className+=" "+o(t.className,this.options.cloneClassPrefix)),e},createOptGroup:function(t){var e,i,s=document.createElement("span"),n=t.getAttribute("label");return(e=document.createElement("span")).className=this.options.captionClass,e.innerHTML=n,s.appendChild(e),t.children.length&&(i=this.createOptionsList(t),s.appendChild(i)),s.className=this.options.groupClass,s},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(t){var n=this,o=document.createElement("ul");return a.each(t.children,function(t,e){var i,s=n.createOptionContainer(e);switch(e.tagName.toLowerCase()){case"option":i=n.createOption(e);break;case"optgroup":i=n.createOptGroup(e)}o.appendChild(s).appendChild(i)}),o},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=jcf.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var o=function(t,e){return t?t.replace(/[\s]*([\S]+)+[\s]*/gi,e+"$1 "):""},n=function(){var e=jcf.getOptions().unselectableClass;function i(t){t.preventDefault()}return function(t){t.addClass(e).on("selectstart",i)}}()}(jQuery,this),function(s){function e(t){this.options=s.extend({addClassBeforeAnimation:!0,hideOnClickOutside:!1,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},t),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.makeCallback("onInit",this))},findElements:function(){this.holder=s(this.options.holder),this.opener=this.holder.find(this.options.opener),this.slider=this.holder.find(this.options.slider)},attachEvents:function(){var i=this;this.eventHandler=function(t){t.preventDefault(),i.slider.hasClass(n)?i.showSlide():i.hideSlide()},i.opener.bind(i.options.event,this.eventHandler),"over"===i.options.event&&(i.opener.bind("mouseenter",function(){i.showSlide()}),i.holder.bind("mouseleave",function(){i.hideSlide()})),i.outsideClickHandler=function(t){if(i.options.hideOnClickOutside){var e=s(t.target);e.is(i.holder)||e.closest(i.holder).length||i.hideSlide()}},this.holder.hasClass(this.options.activeClass)?s(document).bind("click touchstart",i.outsideClickHandler):this.slider.addClass(n)},showSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.addClass(t.options.activeClass),t.slider.removeClass(n),s(document).bind("click touchstart",t.outsideClickHandler),t.makeCallback("animStart",!0),o[t.options.effect].show({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.addClass(t.options.activeClass),t.makeCallback("animEnd",!0)}})},hideSlide:function(){var t=this;t.options.addClassBeforeAnimation&&t.holder.removeClass(t.options.activeClass),s(document).unbind("click touchstart",t.outsideClickHandler),t.makeCallback("animStart",!1),o[t.options.effect].hide({box:t.slider,speed:t.options.animSpeed,complete:function(){t.options.addClassBeforeAnimation||t.holder.removeClass(t.options.activeClass),t.slider.addClass(n),t.makeCallback("animEnd",!1)}})},destroy:function(){this.slider.removeClass(n).css({display:""}),this.opener.unbind(this.options.event,this.eventHandler),this.holder.removeClass(this.options.activeClass).removeData("OpenClose"),s(document).unbind("click touchstart",this.outsideClickHandler)},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}}};var t,i,n="js-slide-hidden";t=s('<style type="text/css">')[0],i="."+n,i+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}",t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i)),s("head").append(t);var o={slide:{show:function(t){t.box.stop(!0).hide().slideDown(t.speed,t.complete)},hide:function(t){t.box.stop(!0).slideUp(t.speed,t.complete)}},fade:{show:function(t){t.box.stop(!0).hide().fadeIn(t.speed,t.complete)},hide:function(t){t.box.stop(!0).fadeOut(t.speed,t.complete)}},none:{show:function(t){t.box.hide().show(0,t.complete)},hide:function(t){t.box.hide(0,t.complete)}}};s.fn.openClose=function(t){return this.each(function(){jQuery(this).data("OpenClose",new e(s.extend(t,{holder:this})))})}}(jQuery),function(a,t){"use strict";function i(t){this.options=a.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},t),this.init()}jcf.addModule({name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:i},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(t){return t.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=a(document),this.win=a(t),this.realElement=a(this.options.element),this.scrollWrapper=a(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var e=this;this.vBar=new i({holder:this.scrollWrapper,vertical:!0,onScroll:function(t){e.realElement.scrollTop(t)}}),this.hBar=new i({holder:this.scrollWrapper,vertical:!1,onScroll:function(t){e.realElement.scrollLeft(t)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){a(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(t){"touch"===t.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:t.pageX,top:t.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(t){var e,i,s=this.verticalScrollActive,n=this.horizontalScrollActive;"touch"===t.pointerType&&(e=this.touchData.scrollTop-t.pageY+this.touchData.top,i=this.touchData.scrollLeft-t.pageX+this.touchData.left,this.verticalScrollActive&&(e<0||e>this.vBar.maxValue)&&(s=!1),this.horizontalScrollActive&&(i<0||i>this.hBar.maxValue)&&(n=!1),this.realElement.scrollTop(e),this.realElement.scrollLeft(i),s||n?t.preventDefault():this.onReleaseBody(t))},onReleaseBody:function(t){"touch"===t.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(t){var e,i,s,n=this.realElement.scrollTop(),o=this.realElement.scrollLeft(),a=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,r=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&t.deltaY&&(n<=0&&t.deltaY<0||a<=n&&0<t.deltaY||(s=!0)),this.horizontalScrollActive&&t.deltaX&&(o<=0&&t.deltaX<0||r<=o&&0<t.deltaX||(s=!0)),this.verticalScrollActive||this.horizontalScrollActive))&&(s||this.options.alwaysPreventMouseWheel)&&(t.preventDefault(),e=t.deltaX/100*this.options.mouseWheelStep,i=t.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(n+i),this.realElement.scrollLeft(o+e))},setScrollBarEdge:function(t){this.vBarEdge=t||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var t,e,i,s;return this.isModifiedStyles?t={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),e=this.realElement.prop("style"),s=parseFloat(e.width),i=parseFloat(e.height),this.embeddedDimensions&&s&&i&&(this.isModifiedStyles|=s!==this.embeddedDimensions.width||i!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),t={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),t},getEmbeddedDimensions:function(t){var e,i=this.vBar.getThickness(),s=this.hBar.getThickness(),n=this.realElement.outerWidth()-this.realElement.width(),o=this.realElement.outerHeight()-this.realElement.height();return this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,e={innerWidth:t.width-i,innerHeight:t.height-s}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:t.width-n,height:t.height-o}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),e={innerWidth:t.width-(this.verticalScrollActive?i:0),innerHeight:t.height-(this.horizontalScrollActive?s:0)}),a.extend(e,{width:e.innerWidth-n,height:e.innerHeight-o}),e},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){var t,e;this.verticalScrollActive?(t=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,e=this.realElement.prop("scrollHeight")-this.vBarEdge,this.vBar.show().setMaxValue(e-t).setRatio(t/e).setSize(t),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(t=this.embeddedDimensions.innerWidth,(e=this.realElement.prop("scrollWidth"))===t&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(e-t).setRatio(t/e).setSize(t),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var i="";this.verticalScrollActive&&this.horizontalScrollActive?i="none":this.verticalScrollActive?i="pan-x":this.horizontalScrollActive&&(i="pan-y"),this.realElement.css("touchAction",i)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}}),a.extend(i.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=a(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=a(this.options.holder),this.scrollbar=a(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(t){"mouse"===t.pointerType&&1<t.button||(t.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=t[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(t){t.preventDefault(),this.calcOffset=t[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(t){var e,i;"mouse"===t.pointerType&&1<t.button||(t.preventDefault(),this.handleDragActive||(this.slider.is(t.currentTarget)?(e=this.handle.offset()[this.offsetProperty]>t[this.offsetEventProperty]?-1:1,i=t[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(e,i)):(e=this.btnDec.is(t.currentTarget)?-1:1,this.startSmoothScrolling(e)),this.doc.on("jcf-pointerup",this.onButtonRelease)))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(e,i){var s=this,n=e*s.currentSize,t=function(){var t;s.value+=n,s.setValue(s.value),s.triggerScrollEvent(s.value),t=s.value/s.maxValue*(s.currentSliderSize-s.handleSize),(0<e?t+s.handleSize>=i:t<=i)&&clearInterval(s.pageScrollTimer)};this.pageScrollTimer=setInterval(t,this.options.scrollInterval),t()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(e){var i,s=this;this.stopSmoothScrolling();var n=t.requestAnimationFrame||function(t){setTimeout(t,16)},o=function(){return Date.now?Date.now():(new Date).getTime()},a=function(){var t=(o()-i)/1e3*s.options.scrollStep;s.smoothScrollActive&&(s.value+=t*e,s.setValue(s.value),s.triggerScrollEvent(s.value),(0<e?s.value>=s.maxValue:s.value<=0)||(i=o(),n(a)))};s.smoothScrollActive=!0,i=o(),n(a)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(t){this.options.onScroll&&this.options.onScroll(t)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(t){var e=this.btnDec[this.fullSizeProperty](),i=this.btnInc[this.fullSizeProperty]();return this.currentSize=t,this.currentSliderSize=t-e-i,this.scrollbar.css(this.sizeProperty,t),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(t){return this.ratio=t,this},setMaxValue:function(t){return this.maxValue=t,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(t){this.value=t,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(t){return this.scrollbar.css(t),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}})}(jQuery,this);var ImageStretcher={getDimensions:function(t){var e=t.imageRatio||t.imageWidth/t.imageHeight,i=t.maskWidth,s=i/e;return s<t.maskHeight&&(i=(s=t.maskHeight)*e),{width:i,height:s,top:(t.maskHeight-s)/2,left:(t.maskWidth-i)/2}},getRatio:function(t){if(t.prop("naturalWidth"))return t.prop("naturalWidth")/t.prop("naturalHeight");var e=new Image;return e.src=t.prop("src"),e.width/e.height},imageLoaded:function(t,e){var i=this,s=function(){e.call(i)};t.prop("complete")?s():t.one("load",s)},resizeHandler:function(){var i=this;jQuery.each(this.imgList,function(t,e){e.image.prop("complete")&&i.resizeImage(e.image,e.container)})},resizeImage:function(e,i){this.imageLoaded(e,function(){var t=this.getDimensions({imageRatio:this.getRatio(e),maskWidth:i.width(),maskHeight:i.height()});e.css({width:t.width,height:t.height,marginTop:t.top,marginLeft:t.left})})},add:function(t){var e=jQuery(t.container?t.container:window),i="string"==typeof t.image?e.find(t.image):jQuery(t.image);this.resizeImage(i,e),this.win||(this.resizeHandler=jQuery.proxy(this.resizeHandler,this),this.imgList=[],this.win=jQuery(window),this.win.on("resize orientationchange",this.resizeHandler)),this.imgList.push({container:e,image:i})}};!function(){var n,i=function(){var s=window.innerHeight||document.documentElement.clientHeight,t=n.cssRules||n.rules;jQuery.each(t,function(t,e){var i=e.selectorText.toLowerCase().replace(".win-","").replace("-h","H");e.style[i]=s+"px"})};!function(){var t=jQuery("<style>").appendTo("head");n=t.prop("sheet")||t.prop("styleSheet");var e=function(t,e,i){n.insertRule?n.insertRule(t+"{"+e+"}",i):n.addRule(t,e,i)};e(".win-min-height","min-height:0"),e(".win-height","height:auto"),e(".win-max-height","max-height:100%"),i()}(),jQuery(window).on("resize orientationchange",i)}(),ResponsiveHelper=function(i){var a,e=[],s=i(window),r=!1;function o(){var t=s.width();t!==a&&(a=t,i.each(e,function(t,e){i.each(e.data,function(t,e){e.currentActive&&!n(e.range[0],e.range[1])&&(e.currentActive=!1,"function"==typeof e.disableCallback&&e.disableCallback())}),i.each(e.data,function(t,e){!e.currentActive&&n(e.range[0],e.range[1])&&(e.currentActive=!0,"function"==typeof e.enableCallback&&e.enableCallback())})}))}function n(t,e){var i,s,n,o="";return 0<t&&(o+="(min-width: "+t+"px)"),e<1/0&&(o+=(o?" and ":"")+"(max-width: "+e+"px)"),i=o,s=t,n=e,window.matchMedia&&r?matchMedia(i).matches:window.styleMedia?styleMedia.matchMedium(i):window.media?media.matchMedium(i):s<=a&&a<=n}return window.matchMedia&&(window.Window&&window.matchMedia===Window.prototype.matchMedia?r=!0:-1<window.matchMedia.toString().indexOf("native")&&(r=!0)),s.bind("load resize orientationchange",o),{addRange:function(t){var n={data:{}};i.each(t,function(t,e){var i,s;n.data[t]={range:(i=t,s=i.split(".."),[parseInt(s[0],10)||-1/0,parseInt(s[1],10)||1/0].sort(function(t,e){return t-e})),enableCallback:e.on,disableCallback:e.off}}),e.push(n),a=null,o()}}}(jQuery),Object.create&&function(t,r,e,w){"use strict";function l(t,e,i){return setTimeout(h(t,i),e)}function i(t,e,i){return!!Array.isArray(t)&&(n(t,i[e],i),!0)}function n(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==w)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function o(t,e,i){for(var s=Object.keys(e),n=0;n<s.length;)(!i||i&&t[s[n]]===w)&&(t[s[n]]=e[s[n]]),n++;return t}function s(t,e){return o(t,e,!0)}function a(t,e,i){var s,n=e.prototype;(s=t.prototype=Object.create(n)).constructor=t,s._super=n,i&&o(s,i)}function h(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==Z?t.apply(e&&e[0]||w,e):t}function d(t,e){return t===w?e:t}function u(e,t,i){n(m(t),function(t){e.addEventListener(t,i,!1)})}function p(e,t,i){n(m(t),function(t){e.removeEventListener(t,i,!1)})}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function f(t,e){return-1<t.indexOf(e)}function m(t){return t.trim().split(/\s+/g)}function g(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var s=0;s<t.length;){if(i&&t[s][i]==e||!i&&t[s]===e)return s;s++}return-1}function v(t){return Array.prototype.slice.call(t,0)}function y(t,i,e){for(var s=[],n=[],o=0;o<t.length;){var a=i?t[o][i]:t[o];g(n,a)<0&&s.push(t[o]),n[o]=a,o++}return e&&(s=i?s.sort(function(t,e){return t[i]>e[i]}):s.sort()),s}function b(t,e){for(var i,s,n=e[0].toUpperCase()+e.slice(1),o=0;o<U.length;){if((s=(i=U[o])?i+n:e)in t)return s;o++}return w}function C(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function x(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){c(e.options.enable,[e])&&i.handler(t)},this.init()}function D(t,e,i){var s=i.pointers.length,n=i.changedPointers.length,o=e&lt&&s-n==0,a=e&(ht|ct)&&s-n==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,s=e.pointers,n=s.length;i.firstInput||(i.firstInput=S(e)),1<n&&!i.firstMultiple?i.firstMultiple=S(e):1===n&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,r=a?a.center:o.center,l=e.center=_(s);e.timeStamp=tt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=H(r,l),e.distance=E(r,l),p=i,f=e,m=f.center,g=p.offsetDelta||{},v=p.prevDelta||{},y=p.prevInput||{},(f.eventType===lt||y.eventType===ht)&&(v=p.prevDelta={x:y.deltaX||0,y:y.deltaY||0},g=p.offsetDelta={x:m.x,y:m.y}),f.deltaX=v.x+(m.x-g.x),f.deltaY=v.y+(m.y-g.y),e.offsetDirection=T(e.deltaX,e.deltaY),e.scale=a?(d=a.pointers,u=s,E(u[0],u[1],wt)/E(d[0],d[1],wt)):1,e.rotation=a?(h=a.pointers,c=s,H(c[1],c[0],wt)-H(h[1],h[0],wt)):0,function(t,e){var i,s,n,o,a=t.lastInterval||e,r=e.timeStamp-a.timeStamp;if(e.eventType!=ct&&(rt<r||a.velocity===w)){var l=a.deltaX-e.deltaX,h=a.deltaY-e.deltaY,c={x:l/(d=r)||0,y:h/d||0};s=c.x,n=c.y,i=J(c.x)>J(c.y)?c.x:c.y,o=T(l,h),t.lastInterval=e}else i=a.velocity,s=a.velocityX,n=a.velocityY,o=a.direction;var d;e.velocity=i,e.velocityX=s,e.velocityY=n,e.direction=o}(i,e);var h,c;var d,u;var p,f,m,g,v,y;var b=t.element;k(e.srcEvent.target,b)&&(b=e.srcEvent.target),e.target=b}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:$(t.pointers[i].clientX),clientY:$(t.pointers[i].clientY)},i++;return{timeStamp:tt(),pointers:e,center:_(e),deltaX:t.deltaX,deltaY:t.deltaY}}function _(t){var e=t.length;if(1===e)return{x:$(t[0].clientX),y:$(t[0].clientY)};for(var i=0,s=0,n=0;n<e;)i+=t[n].clientX,s+=t[n].clientY,n++;return{x:$(i/e),y:$(s/e)}}function T(t,e){return t===e?dt:J(t)>=J(e)?0<t?ut:pt:0<e?ft:mt}function E(t,e,i){i||(i=bt);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(s*s+n*n)}function H(t,e,i){i||(i=bt);var s=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,s)/Math.PI}function M(){this.evEl=Ct,this.evWin=xt,this.allow=!0,this.pressed=!1,x.apply(this,arguments)}function A(){this.evEl=_t,this.evWin=Tt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function I(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,x.apply(this,arguments)}function P(){this.evTarget=Mt,this.targetIds={},x.apply(this,arguments)}function O(){x.apply(this,arguments);var t=h(this.handler,this);this.touch=new P(this.manager,t),this.mouse=new M(this.manager,t)}function j(t,e){this.manager=t,this.set(e)}function R(t){this.id=et++,this.manager=null,this.options=s(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function z(t){return t==mt?"down":t==ft?"up":t==ut?"left":t==pt?"right":""}function L(t,e){var i=e.manager;return i?i.get(t):t}function N(){R.apply(this,arguments)}function F(){N.apply(this,arguments),this.pX=null,this.pY=null}function W(){N.apply(this,arguments)}function B(){R.apply(this,arguments),this._timer=null,this._input=null}function Y(){N.apply(this,arguments)}function Q(){N.apply(this,arguments)}function K(){R.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function V(t,e){return(e=e||{}).recognizers=d(e.recognizers,V.defaults.preset),new q(t,e)}function q(t,e){var i;e=e||{},this.options=s(e,V.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=new((i=this).options.inputClass||(st?A:nt?P:it?O:M))(i,D),this.touchAction=new j(this,this.options.touchAction),X(this,!0),n(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function X(t,i){var s=t.element;n(t.options.cssProps,function(t,e){s.style[b(s.style,e)]=i?t:""})}var U=["","webkit","moz","MS","ms","o"],G=r.createElement("div"),Z="function",$=Math.round,J=Math.abs,tt=Date.now,et=1,it="ontouchstart"in t,st=b(t,"PointerEvent")!==w,nt=it&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ot="touch",at="mouse",rt=25,lt=1,ht=4,ct=8,dt=1,ut=2,pt=4,ft=8,mt=16,gt=ut|pt,vt=ft|mt,yt=gt|vt,bt=["x","y"],wt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler),this.evTarget&&u(this.target,this.evTarget,this.domHandler),this.evWin&&u(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var kt={mousedown:lt,mousemove:2,mouseup:ht},Ct="mousedown",xt="mousemove mouseup";a(M,x,{handler:function(t){var e=kt[t.type];e&lt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=ht),this.pressed&&this.allow&&(e&ht&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:at,srcEvent:t}))}});var Dt={pointerdown:lt,pointermove:2,pointerup:ht,pointercancel:ct,pointerout:ct},St={2:ot,3:"pen",4:at,5:"kinect"},_t="pointerdown",Tt="pointermove pointerup pointercancel";t.MSPointerEvent&&(_t="MSPointerDown",Tt="MSPointerMove MSPointerUp MSPointerCancel"),a(A,x,{handler:function(t){var e=this.store,i=!1,s=t.type.toLowerCase().replace("ms",""),n=Dt[s],o=St[t.pointerType]||t.pointerType,a=o==ot,r=g(e,t.pointerId,"pointerId");n&lt&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):n&(ht|ct)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var Et={touchstart:lt,touchmove:2,touchend:ht,touchcancel:ct};a(I,x,{handler:function(t){var e=Et[t.type];if(e===lt&&(this.started=!0),this.started){var i=function(t,e){var i=v(t.touches),s=v(t.changedTouches);return e&(ht|ct)&&(i=y(i.concat(s),"identifier",!0)),[i,s]}.call(this,t,e);e&(ht|ct)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ot,srcEvent:t})}}});var Ht={touchstart:lt,touchmove:2,touchend:ht,touchcancel:ct},Mt="touchstart touchmove touchend touchcancel";a(P,x,{handler:function(t){var e=Ht[t.type],i=function(t,e){var i=v(t.touches),s=this.targetIds;if(e&(2|lt)&&1===i.length)return s[i[0].identifier]=!0,[i,i];var n,o,a=v(t.changedTouches),r=[],l=this.target;if(o=i.filter(function(t){return k(t.target,l)}),e===lt)for(n=0;n<o.length;)s[o[n].identifier]=!0,n++;for(n=0;n<a.length;)s[a[n].identifier]&&r.push(a[n]),e&(ht|ct)&&delete s[a[n].identifier],n++;return r.length?[y(o.concat(r),"identifier",!0),r]:void 0}.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:ot,srcEvent:t})}}),a(O,x,{handler:function(t,e,i){var s=i.pointerType==ot,n=i.pointerType==at;if(s)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(ht|ct)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var At=b(G.style,"touchAction"),It=At!==w,Pt="compute",Ot="manipulation",jt="none",Rt="pan-x",zt="pan-y";j.prototype={set:function(t){t==Pt&&(t=this.compute()),It&&(this.manager.element.style[At]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return n(this.manager.recognizers,function(t){c(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(f(t,jt))return jt;var e=f(t,Rt),i=f(t,zt);return e&&i?Rt+" "+zt:e||i?e?Rt:zt:f(t,Ot)?Ot:"auto"}(e.join(" "))},preventDefaults:function(t){if(!It){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var s=this.actions,n=f(s,jt),o=f(s,zt),a=f(s,Rt);return n||o&&i&gt||a&&i&vt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Nt=2,Ft=4,Wt=8,Bt=Wt,Yt=16;R.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(i(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=L(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return i(t,"dropRecognizeWith",this)||(t=L(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(i(t,"requireFailure",this))return this;var e=this.requireFail;return-1===g(e,t=L(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(i(t,"dropRequireFailure",this))return this;t=L(t,this);var e=g(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(i){function t(t){var e;s.manager.emit(s.options.event+(t?(e=n)&Yt?"cancel":e&Wt?"end":e&Ft?"move":e&Nt?"start":"":""),i)}var s=this,n=this.state;n<Wt&&t(!0),t(),Wt<=n&&t(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);return c(this.options.enable,[this,e])?(this.state&(Bt|Yt|32)&&(this.state=Lt),this.state=this.process(e),void(this.state&(Nt|Ft|Wt|Yt)&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},a(N,R,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,s=e&(Nt|Ft),n=this.attrTest(t);return s&&(i&ct||!n)?e|Yt:s||n?i&ht?e|Wt:e&Nt?e|Ft:Nt:32}}),a(F,N,{defaults:{event:"pan",threshold:10,pointers:1,direction:yt},getTouchAction:function(){var t=this.options.direction,e=[];return t&gt&&e.push(zt),t&vt&&e.push(Rt),e},directionTest:function(t){var e=this.options,i=!0,s=t.distance,n=t.direction,o=t.deltaX,a=t.deltaY;return n&e.direction||(e.direction&gt?(n=0===o?dt:o<0?ut:pt,i=o!=this.pX,s=Math.abs(t.deltaX)):(n=0===a?dt:a<0?ft:mt,i=a!=this.pY,s=Math.abs(t.deltaY))),t.direction=n,i&&s>e.threshold&&n&e.direction},attrTest:function(t){return N.prototype.attrTest.call(this,t)&&(this.state&Nt||!(this.state&Nt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=z(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),a(W,N,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Nt)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),a(B,R,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(ht|ct)&&!n)this.reset();else if(t.eventType&lt)this.reset(),this._timer=l(function(){this.state=Bt,this.tryEmit()},e.time,this);else if(t.eventType&ht)return Bt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Bt&&(t&&t.eventType&ht?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=tt(),this.manager.emit(this.options.event,this._input)))}}),a(Y,N,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Nt)}}),a(Q,N,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:gt|vt,pointers:1},getTouchAction:function(){return F.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(gt|vt)?e=t.velocity:i&gt?e=t.velocityX:i&vt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&J(e)>this.options.velocity&&t.eventType&ht},emit:function(t){var e=z(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),a(K,R,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&lt&&0===this.count)return this.failTimeout();if(s&&n&&i){if(t.eventType!=ht)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||E(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=Bt,this.tryEmit()},e.interval,this),Nt):Bt}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Bt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),V.VERSION="2.0.4",V.defaults={domEvents:!1,touchAction:Pt,enable:!0,inputTarget:null,inputClass:null,preset:[[Y,{enable:!1}],[W,{enable:!1},["rotate"]],[Q,{direction:gt}],[F,{direction:gt},["swipe"]],[K],[K,{event:"doubletap",taps:2},["tap"]],[B]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};q.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,s=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&Bt)&&(n=e.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(Nt|Ft|Wt)&&(n=e.curRecognizer=i),o++}},get:function(t){if(t instanceof R)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(i(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},remove:function(t){if(i(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(g(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return n(m(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return n(m(t),function(t){e?i[t].splice(g(i[t],e),1):delete i[t]}),this},emit:function(t,e){var i,s,n;this.options.domEvents&&(i=t,s=e,(n=r.createEvent("Event")).initEvent(i,!0,!0),(n.gesture=s).target.dispatchEvent(n));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var a=0;a<o.length;)o[a](e),a++}},destroy:function(){this.element&&X(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(V,{INPUT_START:lt,INPUT_MOVE:2,INPUT_END:ht,INPUT_CANCEL:ct,STATE_POSSIBLE:Lt,STATE_BEGAN:Nt,STATE_CHANGED:Ft,STATE_ENDED:Wt,STATE_RECOGNIZED:Bt,STATE_CANCELLED:Yt,STATE_FAILED:32,DIRECTION_NONE:dt,DIRECTION_LEFT:ut,DIRECTION_RIGHT:pt,DIRECTION_UP:ft,DIRECTION_DOWN:mt,DIRECTION_HORIZONTAL:gt,DIRECTION_VERTICAL:vt,DIRECTION_ALL:yt,Manager:q,Input:x,TouchAction:j,TouchInput:P,MouseInput:M,PointerEventInput:A,TouchMouseInput:O,SingleTouchInput:I,Recognizer:R,AttrRecognizer:N,Tap:K,Pan:F,Swipe:Q,Pinch:W,Rotate:Y,Press:B,on:u,off:p,each:n,merge:s,extend:o,inherit:a,bindFn:h,prefixed:b}),typeof define==Z&&define.amd?define(function(){return V}):"undefined"!=typeof module&&module.exports?module.exports=V:t.Hammer=V}(window,document),window.matchMedia=window.matchMedia||function(t,e){var i,s=t.documentElement,n=s.firstElementChild||s.firstChild,o=t.createElement("body"),a=t.createElement("div");return a.id="mq-test-1",a.style.cssText="position:absolute;top:-100em",o.appendChild(a),function(t){return a.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',s.insertBefore(o,n),i=42==a.offsetWidth,s.removeChild(o),{matches:i,media:t}}}(document),function(c){c.picturefill=function(){for(var t=c.document.getElementsByTagName("span"),e=0,i=t.length;e<i;e++)if(null!==t[e].getAttribute("data-picture")){for(var s=t[e].getElementsByTagName("span"),n=[],o=0,a=s.length;o<a;o++){var r=s[o].getAttribute("data-media");(!r||c.matchMedia&&c.matchMedia(r).matches)&&n.push(s[o])}var l=t[e].getElementsByTagName("img")[0];if(n.length){var h=n.pop();l&&"NOSCRIPT"!==l.parentNode.nodeName||((l=c.document.createElement("img")).alt=t[e].getAttribute("data-alt")),h.getAttribute("data-width")?l.setAttribute("width",h.getAttribute("data-width")):l.removeAttribute("width"),h.getAttribute("data-height")?l.setAttribute("height",h.getAttribute("data-height")):l.removeAttribute("height"),l.src=h.getAttribute("data-src"),h.appendChild(l)}else l&&l.parentNode.removeChild(l)}},c.addEventListener?(c.addEventListener("resize",c.picturefill,!1),c.addEventListener("DOMContentLoaded",function(){c.picturefill(),c.removeEventListener("load",c.picturefill,!1)},!1),c.addEventListener("load",c.picturefill,!1)):c.attachEvent&&c.attachEvent("onload",c.picturefill)}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(x){function s(t,e){var i,s,n,o=t.nodeName.toLowerCase();return"area"===o?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&(!!(n=x("img[usemap='#"+s+"']")[0])&&a(n))):(/^(input|select|textarea|button|object)$/.test(o)?!t.disabled:"a"===o&&t.href||e)&&a(t)}function a(t){return x.expr.filters.visible(t)&&!x(t).parents().addBack().filter(function(){return"hidden"===x.css(this,"visibility")}).length}function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},x.extend(this._defaults,this.regional[""]),this.regional.en=x.extend(!0,{},this.regional[""]),this.regional["en-US"]=x.extend(!0,{},this.regional.en),this.dpDiv=i(x("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){x(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&x(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&x(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",o)}function o(){x.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(x(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),x(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&x(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&x(this).addClass("ui-datepicker-next-hover"))}function d(t,e){for(var i in x.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}var e,n,r,l,h;x.ui=x.ui||{},x.extend(x.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),x.fn.extend({scrollParent:function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=x(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:x(this[0].ownerDocument||document)},uniqueId:(l=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++l)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}}),x.extend(x.expr[":"],{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,i){return!!x.data(t,i[3])},focusable:function(t){return s(t,!isNaN(x.attr(t,"tabindex")))},tabbable:function(t){var e=x.attr(t,"tabindex"),i=isNaN(e);return(i||0<=e)&&s(t,!i)}}),x("<a>").outerWidth(1).jquery||x.each(["Width","Height"],function(t,i){function s(t,e,i,s){return x.each(n,function(){e-=parseFloat(x.css(t,"padding"+this))||0,i&&(e-=parseFloat(x.css(t,"border"+this+"Width"))||0),s&&(e-=parseFloat(x.css(t,"margin"+this))||0)}),e}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:x.fn.innerWidth,innerHeight:x.fn.innerHeight,outerWidth:x.fn.outerWidth,outerHeight:x.fn.outerHeight};x.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){x(this).css(o,s(this,t)+"px")})},x.fn["outer"+i]=function(t,e){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){x(this).css(o,s(this,t,!0,e)+"px")})}}),x.fn.addBack||(x.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),x("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(x.fn.removeData=(r=x.fn.removeData,function(t){return arguments.length?r.call(this,x.camelCase(t)):r.call(this)})),x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),x.fn.extend({focus:(n=x.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){x(t).focus(),i&&i.call(t)},e)}):n.apply(this,arguments)}),disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(e+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,s=x(this[0]);s.length&&s[0]!==document;){if(("absolute"===(e=s.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0}}),x.ui.plugin={add:function(t,e,i){var s,n=x.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},x.extend(x.ui,{datepicker:{version:"1.11.4"}}),x.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return d(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,s,n;s="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(n=this._newInst(x(t),s)).settings=x.extend({},e||{}),"input"===i?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?i(x("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=x(t);e.append=x([]),e.trigger=x([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),x.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,s,n,o=this._get(e,"appendText"),a=this._get(e,"isRTL");e.append&&e.append.remove(),o&&(e.append=x("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),("focus"===(i=this._get(e,"showOn"))||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(s=this._get(e,"buttonText"),n=this._get(e,"buttonImage"),e.trigger=x(this._get(e,"buttonImageOnly")?x("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):x("<button type='button'></button>").addClass(this._triggerClass).html(n?x("<img/>").attr({src:n,alt:s,title:s}):s)),t[a?"before":"after"](e.trigger),e.trigger.click(function(){return x.datepicker._datepickerShowing&&x.datepicker._lastInput===t[0]?x.datepicker._hideDatepicker():(x.datepicker._datepickerShowing&&x.datepicker._lastInput!==t[0]&&x.datepicker._hideDatepicker(),x.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=s=i=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(t,e){var i=x(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),x.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var o,a,r,l,h,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=x("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),x("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},x.data(this._dialogInput[0],"datepicker",c)),d(c.settings,s||{}),e=e&&e.constructor===Date?this._formatDate(c,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(a=document.documentElement.clientWidth,r=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,r/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),x.blockUI&&x.blockUI(this.dpDiv),x.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var e,i=x(t),s=x.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),x.removeData(t,"datepicker"),"input"===e?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===e||"span"===e)&&i.removeClass(this.markerClassName).empty(),h===s&&(h=null))},_enableDatepicker:function(e){var t,i,s=x(e),n=x.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===t||"span"===t)&&((i=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=x.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i,s=x(e),n=x.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===t||"span"===t)&&((i=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=x.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return x.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s,n,o,a,r=this._getInst(t);return 2===arguments.length&&"string"==typeof e?"defaults"===e?x.extend({},x.datepicker._defaults):r?"all"===e?x.extend({},r.settings):this._get(r,e):null:(s=e||{},"string"==typeof e&&((s={})[e]=i),void(r&&(this._curInst===r&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(r,"min"),a=this._getMinMaxDate(r,"max"),d(r.settings,s),null!==o&&void 0!==s.dateFormat&&void 0===s.minDate&&(r.settings.minDate=this._formatDate(r,o)),null!==a&&void 0!==s.dateFormat&&void 0===s.maxDate&&(r.settings.maxDate=this._formatDate(r,a)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(x(t),r),this._autoSize(r),this._setDate(r,n),this._updateAlternate(r),this._updateDatepicker(r))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e,i,s,n=x.datepicker._getInst(t.target),o=!0,a=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,x.datepicker._datepickerShowing)switch(t.keyCode){case 9:x.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=x("td."+x.datepicker._dayOverClass+":not(."+x.datepicker._currentClass+")",n.dpDiv))[0]&&x.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),(e=x.datepicker._get(n,"onSelect"))?(i=x.datepicker._formatDate(n),e.apply(n.input?n.input[0]:null,[i,n])):x.datepicker._hideDatepicker(),!1;case 27:x.datepicker._hideDatepicker();break;case 33:x.datepicker._adjustDate(t.target,t.ctrlKey?-x.datepicker._get(n,"stepBigMonths"):-x.datepicker._get(n,"stepMonths"),"M");break;case 34:x.datepicker._adjustDate(t.target,t.ctrlKey?+x.datepicker._get(n,"stepBigMonths"):+x.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&x.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&x.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&x.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&x.datepicker._adjustDate(t.target,t.ctrlKey?-x.datepicker._get(n,"stepBigMonths"):-x.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&x.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&x.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&x.datepicker._adjustDate(t.target,t.ctrlKey?+x.datepicker._get(n,"stepBigMonths"):+x.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&x.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?x.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i,s=x.datepicker._getInst(t.target);return x.datepicker._get(s,"constrainInput")?(e=x.datepicker._possibleChars(x.datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)):void 0},_doKeyUp:function(t){var e=x.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{x.datepicker.parseDate(x.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,x.datepicker._getFormatConfig(e))&&(x.datepicker._setDateFromField(e),x.datepicker._updateAlternate(e),x.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,i,s,n,o,a,r;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=x("input",t.parentNode)[0]),x.datepicker._isDisabledDatepicker(t)||x.datepicker._lastInput===t)||(e=x.datepicker._getInst(t),x.datepicker._curInst&&x.datepicker._curInst!==e&&(x.datepicker._curInst.dpDiv.stop(!0,!0),e&&x.datepicker._datepickerShowing&&x.datepicker._hideDatepicker(x.datepicker._curInst.input[0])),!1!==(s=(i=x.datepicker._get(e,"beforeShow"))?i.apply(t,[t,e]):{})&&(d(e.settings,s),e.lastVal=null,x.datepicker._lastInput=t,x.datepicker._setDateFromField(e),x.datepicker._inDialog&&(t.value=""),x.datepicker._pos||(x.datepicker._pos=x.datepicker._findPos(t),x.datepicker._pos[1]+=t.offsetHeight),n=!1,x(t).parents().each(function(){return!(n|="fixed"===x(this).css("position"))}),o={left:x.datepicker._pos[0],top:x.datepicker._pos[1]},x.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),x.datepicker._updateDatepicker(e),o=x.datepicker._checkOffset(e,o,n),e.dpDiv.css({position:x.datepicker._inDialog&&x.blockUI?"static":n?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),e.inline||(a=x.datepicker._get(e,"showAnim"),r=x.datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(x(t))+1),x.datepicker._datepickerShowing=!0,x.effects&&x.effects.effect[a]?e.dpDiv.show(a,x.datepicker._get(e,"showOptions"),r):e.dpDiv[a||"show"](a?r:null),x.datepicker._shouldFocusInput(e)&&e.input.focus(),x.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(h=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,i=this._getNumberOfMonths(t),s=i[1],n=t.dpDiv.find("."+this._dayOverClass+" a");0<n.length&&o.apply(n.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<s&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===x.datepicker._curInst&&x.datepicker._datepickerShowing&&x.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:x(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:x(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-o:0,e.left-=i&&e.left===t.input.offset().left?x(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+a?x(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&s<r?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>l&&n<l?Math.abs(n+a):0),e},_findPos:function(t){for(var e,i=this._getInst(t),s=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||x.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return[(e=x(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,s,n,o=this._curInst;!o||t&&o!==x.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(o,"showAnim"),i=this._get(o,"duration"),s=function(){x.datepicker._tidyDialog(o)},x.effects&&(x.effects.effect[e]||x.effects[e])?o.dpDiv.hide(e,x.datepicker._get(o,"showOptions"),i,s):o.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,s),e||s(),this._datepickerShowing=!1,(n=this._get(o,"onClose"))&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),x.blockUI&&(x.unblockUI(),x("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(x.datepicker._curInst){var e=x(t.target),i=x.datepicker._getInst(e[0]);(e[0].id!==x.datepicker._mainDivId&&0===e.parents("#"+x.datepicker._mainDivId).length&&!e.hasClass(x.datepicker.markerClassName)&&!e.closest("."+x.datepicker._triggerClass).length&&x.datepicker._datepickerShowing&&(!x.datepicker._inDialog||!x.blockUI)||e.hasClass(x.datepicker.markerClassName)&&x.datepicker._curInst!==i)&&x.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var s=x(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,e+("M"===i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(t){var e,i=x(t),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(e=new Date,s.selectedDay=e.getDate(),s.drawMonth=s.selectedMonth=e.getMonth(),s.drawYear=s.selectedYear=e.getFullYear()),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(t,e,i){var s=x(t),n=this._getInst(s[0]);n["selected"+("M"===i?"Month":"Year")]=n["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n,o=x(t);x(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((n=this._getInst(o[0])).selectedDay=n.currentDay=x("a",s).html(),n.selectedMonth=n.currentMonth=e,n.selectedYear=n.currentYear=i,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var e=x(t);this._selectDate(e,"")},_selectDate:function(t,e){var i,s=x(t),n=this._getInst(s[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n),(i=this._get(n,"onSelect"))?i.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e,i,s,n=this._get(t,"altField");n&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),s=this.formatDate(e,i,this._getFormatConfig(t)),x(n).each(function(){x(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,o,t){if(null==i||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?""+o:o+""))return null;var s,e,n,a,r=0,l=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,h="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,d=(t?t.dayNames:null)||this._defaults.dayNames,u=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,p=(t?t.monthNames:null)||this._defaults.monthNames,f=-1,m=-1,g=-1,v=-1,y=!1,b=function(t){var e=i.length>s+1&&i.charAt(s+1)===t;return e&&s++,e},w=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),n=o.substring(r).match(s);if(!n)throw"Missing number at position "+r;return r+=n[0].length,parseInt(n[0],10)},k=function(t,e,i){var s=-1,n=x.map(b(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(x.each(n,function(t,e){var i=e[1];return o.substr(r,i.length).toLowerCase()===i.toLowerCase()?(s=e[0],r+=i.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+r},C=function(){if(o.charAt(r)!==i.charAt(s))throw"Unexpected literal at position "+r;r++};for(s=0;i.length>s;s++)if(y)"'"!==i.charAt(s)||b("'")?C():y=!1;else switch(i.charAt(s)){case"d":g=w("d");break;case"D":k("D",c,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",u,p);break;case"y":f=w("y");break;case"@":f=(a=new Date(w("@"))).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"!":f=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=a.getMonth()+1,g=a.getDate();break;case"'":b("'")?C():y=!0;break;default:C()}if(o.length>r&&(n=o.substr(r),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=h?0:-100)),-1<v)for(m=1,g=v;!(g<=(e=this._getDaysInMonth(f,m-1)));)m++,g-=e;if((a=this._daylightSavingAdjust(new Date(f,m-1,g))).getFullYear()!==f||a.getMonth()+1!==m||a.getDate()!==g)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(i,t,e){if(!t)return"";var s,n=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,o=(e?e.dayNames:null)||this._defaults.dayNames,a=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,r=(e?e.monthNames:null)||this._defaults.monthNames,l=function(t){var e=i.length>s+1&&i.charAt(s+1)===t;return e&&s++,e},h=function(t,e,i){var s=""+e;if(l(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return l(t)?s[e]:i[e]},d="",u=!1;if(t)for(s=0;i.length>s;s++)if(u)"'"!==i.charAt(s)||l("'")?d+=i.charAt(s):u=!1;else switch(i.charAt(s)){case"d":d+=h("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),n,o);break;case"o":d+=h("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=h("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),a,r);break;case"y":d+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":u=!0;break;default:d+=i.charAt(s)}return d},_possibleChars:function(i){var s,t="",e=!1,n=function(t){var e=i.length>s+1&&i.charAt(s+1)===t;return e&&s++,e};for(s=0;i.length>s;s++)if(e)"'"!==i.charAt(s)||n("'")?t+=i.charAt(s):e=!1;else switch(i.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":n("'")?t+="'":e=!0;break;default:t+=i.charAt(s)}return t},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(r,t,e){var i,s,n=null==t||""===t?e:"string"==typeof t?function(t){try{return x.datepicker.parseDate(x.datepicker._get(r,"dateFormat"),t,x.datepicker._getFormatConfig(r))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?x.datepicker._getDate(r):null)||new Date,i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":n+=parseInt(a[1],10);break;case"w":case"W":n+=7*parseInt(a[1],10);break;case"m":case"M":s+=parseInt(a[1],10),n=Math.min(n,x.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),n=Math.min(n,x.datepicker._getDaysInMonth(i,s))}a=o.exec(t)}return new Date(i,s,n)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(s=new Date).setDate(s.getDate()+i),s):new Date(t.getTime());return(n=n&&"Invalid Date"==""+n?e:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){x.datepicker._adjustDate(i,-e,"M")},next:function(){x.datepicker._adjustDate(i,+e,"M")},hide:function(){x.datepicker._hideDatepicker()},today:function(){x.datepicker._gotoToday(i)},selectDay:function(){return x.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return x.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return x.datepicker._selectMonthYear(i,this,"Y"),!1}};x(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,d,u,p,f,m,g,v,y,b,w,k,C,x,D,S,_,T,E,H,M,A,I,P,O,j,R,z,L,N,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),B=this._get(t,"isRTL"),Y=this._get(t,"showButtonPanel"),Q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),U=1!==V[0]||1!==V[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),$=this._getMinMaxDate(t,"max"),J=t.drawMonth-q,tt=t.drawYear;if(J<0&&(J+=12,tt--),$)for(e=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-V[0]*V[1]+1,$.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-X,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":Q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J+X,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>":Q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:W,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),u=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",C=0;V[0]>C;C++){for(x="",this.maxRows=4,D=0;V[1]>D;D++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),_=" ui-corner-all",T="",U){if(T+="<div class='ui-datepicker-group",1<V[1])switch(D){case 0:T+=" ui-datepicker-group-first",_=" ui-corner-"+(B?"right":"left");break;case V[1]-1:T+=" ui-datepicker-group-last",_=" ui-corner-"+(B?"left":"right");break;default:T+=" ui-datepicker-group-middle",_=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+_+"'>"+(/all|left/.test(_)&&0===C?B?o:s:"")+(/all|right/.test(_)&&0===C?B?s:o:"")+this._generateMonthYearHeader(t,J,tt,Z,$,0<C||0<D,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;k<7;k++)E+="<th scope='col'"+(5<=(k+c+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+u[H=(k+c)%7]+"'>"+p[H]+"</span></th>";for(T+=E+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),A=(this._getFirstDayOfMonth(tt,J)-c+7)%7,I=Math.ceil((A+M)/7),P=U&&this.maxRows>I?this.maxRows:I,this.maxRows=P,O=this._daylightSavingAdjust(new Date(tt,J,1-A)),j=0;j<P;j++){for(T+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",k=0;k<7;k++)z=g?g.apply(t.input?t.input[0]:null,[O]):[!0,""],N=(L=O.getMonth()!==J)&&!y||!z[0]||Z&&O<Z||$&&$<O,R+="<td class='"+(5<=(k+c+6)%7?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(O.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===O.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+z[1]+(O.getTime()===G.getTime()?" "+this._currentClass:"")+(O.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!z[2]?"":" title='"+z[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===W.getTime()?" ui-state-highlight":"")+(O.getTime()===G.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);T+=R+"</tr>"}11<++J&&(J=0,tt++),x+=T+="</tbody></table>"+(U?"</div>"+(0<V[0]&&D===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=x}return w+=h,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,d,u,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=s.getMonth())&&(!h||n.getMonth()>=c)&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(d=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(e)?u:e})(d[0]),m=Math.max(f,p(d[1]||"")),f=s?Math.max(f,s.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+w),b+"</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return s&&s<n?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),x.fn.datepicker=function(t){if(!this.length)return this;x.datepicker.initialized||(x(document).mousedown(x.datepicker._checkExternalClick),x.datepicker.initialized=!0),0===x("#"+x.datepicker._mainDivId).length&&x("body").append(x.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?x.datepicker["_"+t+"Datepicker"].apply(x.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?x.datepicker["_"+t+"Datepicker"].apply(x.datepicker,[this].concat(e)):x.datepicker._attachDatepicker(this,t)}):x.datepicker["_"+t+"Datepicker"].apply(x.datepicker,[this[0]].concat(e))},x.datepicker=new t,x.datepicker.initialized=!1,x.datepicker.uuid=(new Date).getTime(),x.datepicker.version="1.11.4",x.datepicker}),jQuery(document).ready(function(t){new LazyLoad({threshold:500,throttle:30,show_while_loading:!1})}),jQuery(document).ready(function(e){if(window.matchMedia("(max-width: 767px)").matches)var t=!0;else t=!1;if(1==t){if(0<e(".section--header-slider-nav").length)new Flickity(".section--header-slider-nav",{percentPosition:!0,draggable:!0,asNavFor:".section--header-slider",cellAlign:"left",adaptiveHeight:!1,prevNextButtons:!1,pageDots:!1})}else if(0<e(".section--header-slider-nav").length)new Flickity(".section--header-slider-nav",{freeScroll:!1,draggable:!1,contain:!0,asNavFor:".section--header-slider",cellAlign:"left",adaptiveHeight:!1,prevNextButtons:!1,pageDots:!1});if(0<e(".section--header-slider").length)new Flickity(".section--header-slider",{bgLazyLoad:!0,cellAlign:"left",adaptiveHeight:!1,prevNextButtons:!1,pageDots:!1});if(0<e(".partnerslide").length)new Flickity(".partnerslide",{cellAlign:"left",bgLazyLoad:!0,adaptiveHeight:!1,prevNextButtons:!1,hash:!0,autoPlay:!1,pageDots:!0});if(0<e(".partners-slider").length)new Flickity(".partners-slider",{cellAlign:"left",bgLazyLoad:!0,adaptiveHeight:!1,prevNextButtons:!1,hash:!0,autoPlay:!1,pageDots:!1});e(".event--slide-nav").on("click touchstart",function(t){e(this).hasClass("active")?e(this).toggleClass("active"):(e(".event--slide-nav.active").removeClass("active"),e(this).addClass("active"))})});